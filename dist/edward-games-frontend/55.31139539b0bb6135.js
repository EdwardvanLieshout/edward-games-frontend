"use strict";(self.webpackChunkedward_games_frontend=self.webpackChunkedward_games_frontend||[]).push([[55],{3055:(re,D,h)=>{h.r(D),h.d(D,{AdventureModule:()=>ie});var x=h(177),d=h(8326),m=h(3960),a=h(4438);const X=["menu"];let V=(()=>{class r{router;menu;constructor(e){this.router=e}highlight=()=>{this.menu.nativeElement.classList.add("e-adventure__menu--light")};stopHighlight=()=>{this.menu.nativeElement.classList.remove("e-adventure__menu--light")};toLevelSelect=()=>{this.router.navigate(["adventure/select"])};back=()=>{this.router.navigate(["home"])};static \u0275fac=function(t){return new(t||r)(a.rXU(m.Ix))};static \u0275cmp=a.VBU({type:r,selectors:[["app-adventure-menu-page"]],viewQuery:function(t,n){if(1&t&&a.GBs(X,7),2&t){let i;a.mGM(i=a.lsd())&&(n.menu=i.first)}},decls:10,vars:0,consts:[["menu",""],[1,"e-adventure__menu__container"],[1,"e-adventure__menu"],[1,"e-adventure__menu__title"],[1,"e-flex","e-flex--column","e-flex__align--center"],[1,"padding--2","margin--4","e-adventure__menu__button",3,"mouseover","mouseout","click"],[1,"padding--2","margin--4","e-adventure__menu__button","e-adventure__menu__button--back",3,"mouseover","mouseout","click"]],template:function(t,n){if(1&t){const i=a.RV6();a.j41(0,"div",1)(1,"nav",2,0)(3,"h1",3),a.EFF(4,"Edward's Adventure"),a.k0s(),a.j41(5,"div",4)(6,"button",5),a.bIt("mouseover",function(){return a.eBV(i),a.Njj(n.highlight())})("mouseout",function(){return a.eBV(i),a.Njj(n.stopHighlight())})("click",function(){return a.eBV(i),a.Njj(n.toLevelSelect())}),a.EFF(7," Play "),a.k0s(),a.j41(8,"button",6),a.bIt("mouseover",function(){return a.eBV(i),a.Njj(n.highlight())})("mouseout",function(){return a.eBV(i),a.Njj(n.stopHighlight())})("click",function(){return a.eBV(i),a.Njj(n.back())}),a.EFF(9," Back "),a.k0s()()()()}},encapsulation:2,changeDetection:0})}return r})();const U=()=>[1,2,3,4,5],v=r=>({"e-image--desaturated":r});function L(r,y){if(1&r){const e=a.RV6();a.j41(0,"div")(1,"input",20),a.bIt("change",function(){const n=a.eBV(e).$implicit,i=a.XpG();return a.Njj(i.onChangeLevel(n))}),a.k0s(),a.j41(2,"label",21),a.EFF(3),a.k0s()()}if(2&r){const e=y.$implicit,t=a.XpG();a.R7$(),a.Y8G("id","level-opt-"+e)("value",e)("checked",e===t.levelNr),a.R7$(),a.Y8G("for","level-opt-"+e),a.R7$(),a.SpI("Level ",e,"")}}let I=(()=>{class r{router;levelNr=1;constructor(e){this.router=e}onChangeLevel=e=>{this.levelNr=e};startLevel=()=>{this.router.navigate(["adventure/level",this.levelNr])};viewLeaderBoards=()=>{this.router.navigate(["adventure/leaderboards",this.levelNr])};hasGem=e=>localStorage.getItem(e);static \u0275fac=function(t){return new(t||r)(a.rXU(m.Ix))};static \u0275cmp=a.VBU({type:r,selectors:[["app-adventure-select-page"]],decls:25,vars:19,consts:[[1,"e-container"],[1,"e-adventure__menu__title","e-adventure__select__title"],[1,"e-flex","e-flex--row","e-flex--row--stretch-on-mobile"],[1,"e-flex__col"],[4,"ngFor","ngForOf"],[1,"e-adventure__select__box","e-flex__col","padding--1"],[1,"margin-vertical--2","text--commodore"],[1,"e-image--standard","e-image__container","e-adventure__select__img","margin-auto"],["src","../../../../assets/images/static.gif","alt","static-noise-foreground","draggable","false",1,"e-image__foreground","e-image__foreground--light"],[1,"e-flex","e-flex--row","e-flex--row--stretch-on-mobile","e-flex__justify--center","margin-top--2"],["alt","Collectable1","draggable","false",1,"e-adventure__select__collectible",3,"src","ngClass"],["alt","Collectable2","draggable","false",1,"e-adventure__select__collectible",3,"src","ngClass"],["alt","Collectable3","draggable","false",1,"e-adventure__select__collectible",3,"src","ngClass"],[1,"padding--2","margin--2","e-adventure__menu__button","e-adventure__menu__button--small","margin-auto",3,"click"],[1,"padding--2","margin--2","e-adventure__menu__button","margin-auto",3,"click"],[1,"e-adventure__select__container-1","hidden--visually"],[1,"e-adventure__select__container-2","hidden--visually"],[1,"e-adventure__select__container-3","hidden--visually"],[1,"e-adventure__select__container-4","hidden--visually"],[1,"e-adventure__select__container-5","hidden--visually"],["type","radio","name","level",1,"hidden--visually",3,"change","id","value","checked"],[1,"e-adventure__select__option",3,"for"]],template:function(t,n){1&t&&(a.j41(0,"div")(1,"div",0)(2,"h1",1),a.EFF(3,"Choose a level"),a.k0s(),a.j41(4,"div",2)(5,"div",3),a.DNE(6,L,4,5,"div",4),a.k0s(),a.j41(7,"div",5)(8,"h2",6),a.EFF(9),a.k0s(),a.j41(10,"div",7),a.nrm(11,"img",8),a.k0s(),a.j41(12,"div",9),a.nrm(13,"img",10)(14,"img",11)(15,"img",12),a.j41(16,"button",13),a.bIt("click",function(){return n.viewLeaderBoards()}),a.EFF(17," View Leaderboards "),a.k0s()()()(),a.j41(18,"button",14),a.bIt("click",function(){return n.startLevel()}),a.EFF(19," Start "),a.k0s()()(),a.nrm(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18)(24,"div",19)),2&t&&(a.HbH("e-adventure__select__container e-adventure__select__container-"+n.levelNr),a.R7$(6),a.Y8G("ngForOf",a.lJ4(12,U)),a.R7$(3),a.SpI("Level ",n.levelNr,""),a.R7$(),a.Aen("background-image: url(../../../../assets/images/adventure/levels/Level"+n.levelNr+".png);"),a.R7$(3),a.Y8G("src","../../../../assets/images/adventure/gems/level"+n.levelNr+"/CollectableA1.png",a.B4B)("ngClass",a.eq3(13,v,!n.hasGem("level"+n.levelNr+"CollectableA"))),a.R7$(),a.Y8G("src","../../../../assets/images/adventure/gems/level"+n.levelNr+"/CollectableB1.png",a.B4B)("ngClass",a.eq3(15,v,!n.hasGem("level"+n.levelNr+"CollectableB"))),a.R7$(),a.Y8G("src","../../../../assets/images/adventure/gems/level"+n.levelNr+"/CollectableC1.png",a.B4B)("ngClass",a.eq3(17,v,!n.hasGem("level"+n.levelNr+"CollectableC"))))},dependencies:[x.YU,x.Sq],encapsulation:2,changeDetection:0})}return r})();var S=h(467),N=h(8781);let A=(()=>{class r{uiAnimDelay=0;reposition=e=>{e.camera.x=e.player.x-(e.camera.w/2-e.player.w/2),e.camera.y=e.player.y-(e.camera.h/2-e.player.h/2),e.camera.x<100&&(e.camera.x=100),e.camera.x>e.width-e.camera.w-100&&(e.camera.x=e.width-e.camera.w-100),e.camera.y<100&&(e.camera.y=100),e.camera.y>e.height-e.camera.h-100&&(e.camera.y=e.height-e.camera.h-100)};getDrawCommands=(e,t)=>{this.reposition(e);const n=[];n.push({x:0,y:0,w:e.camera.w,h:e.camera.h,img:t.bg}),n.push({x:0,y:0,w:e.camera.w,h:e.camera.h,alpha:e.camera.x/(e.width-e.camera.w),img:t.bgfade});for(const i of e.skyLineLayer)this.isVisible(e.camera,i)&&n.push(this.createDrawCommand(e.camera,i,t));for(const i of e.backLayer)this.isVisible(e.camera,i)&&n.push(this.createDrawCommand(e.camera,i,t));for(const i of e.centerLayer)this.isVisible(e.camera,i)&&n.push(this.createDrawCommand(e.camera,i,t));for(const i of e.frontLayer)this.isVisible(e.camera,i)&&n.push(this.createDrawCommand(e.camera,i,t));this.uiAnimDelay++;for(const i of e.uiDrawables)this.intersectRect(e.player.x,e.player.y,e.player.w,e.player.h,i.x,i.y,i.w,i.h)&&n.push(this.createUIDrawCommand(i.uiDrawable,t)),12===this.uiAnimDelay&&(i.uiDrawable.animationCounter=i.uiDrawable.animationCounter%i.uiMaxAnim+1);return 12===this.uiAnimDelay&&(this.uiAnimDelay=0),n};updateAnimatedDrawables=e=>{for(let t of e.animatedDrawables)t.animationCounterDelay++,t.animationCounterDelay===(t.animationSleep??3)&&(t.animationCounterDelay=0,t.animationCounter=t.animationCounter%(t.maxFrame??4)+1)};createUIDrawCommand=(e,t)=>({x:e.x,y:e.y,w:e.w,h:e.h,img:t[e.name+(e.animationCounter?e.animationCounter:"")]});createDrawCommand=(e,t,n)=>{const i=t.dir?t.dir:"",l=t.blockingAction?t.blockingAction:"",c=!t.verticalAction||void 0!==l&&""!==l?"":t.verticalAction,p=!t.action||void 0!==l&&""!==l||void 0!==c&&""!==c?"":t.action,f=t.animationCounter?t.animationCounter:"";return{x:this.offsetX(e,t.x,t.distance),y:this.offsetY(e,t.y,t.distance),w:t.w/(void 0===t.resizeWhenDistant||t.resizeWhenDistant?t.distance:1),h:t.h/(void 0===t.resizeWhenDistant||t.resizeWhenDistant?t.distance:1),img:n[t.name+i+l+c+p+f]}};isVisible=(e,t)=>!t.hidden&&this.offsetX(e,t.x,t.distance)>=0-t.w&&this.offsetX(e,t.x,t.distance)<=e.w&&this.offsetY(e,t.y,t.distance)>=0-t.h&&this.offsetY(e,t.y,t.distance)<=e.h;offsetX=(e,t,n)=>Math.round(t/n)-Math.round(e.x/n)+Math.round(.5*e.w*(1-1/n));offsetY=(e,t,n)=>Math.round(t/n)-Math.round(e.y/n)+Math.round(.5*e.h*(1-1/n));intersectRect=(e,t,n,i,l,c,p,f)=>this.intersectRange(e,e+n,l,l+p)&&this.intersectRange(t,t+i,c,c+f);intersectRange=(e,t,n,i)=>Math.max(e,n)<=Math.min(t,i);static \u0275fac=function(t){return new(t||r)};static \u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var s=h(3482),o=h(2125),u=h(6874);let F=(()=>{class r{getLevel1=()=>{const e={code:"1",width:9300,height:2400,player:{x:300,y:1800,w:100,h:100,verticalVelocity:10,animationCounter:1,distance:1,mSpeed:10,dir:s.X.RIGHT,dmgDir:s.X.LEFT,action:o.U.NONE,verticalAction:o.U.NONE,blockingAction:o.U.NONE,name:"player",gems:[],bigGems:[],hidden:!1,health:4},camera:{x:100,y:100,w:800,h:500},platforms:[],walls:[],portals:[],gems:[],jumpzones:[],enemies:[],skyLineLayer:[],backLayer:[],centerLayer:[],frontLayer:[],animatedDrawables:[],uiDrawables:[],gravity:2,jumpPower:-25,maxFallSpeed:15,finish:{x:9e3,y:2200,w:100,h:100,distance:1.2,name:"Finish"}};return e.platforms.push({x:100,y:0,w:100,h:2200,distance:1,name:"ground-middle-right"},{x:100,y:2200,w:100,h:100,distance:1,name:"ground-middle-full-corner-r"},{x:200,y:2200,w:1300,h:100,distance:1,name:"ground-upper-full"},{x:1500,y:2200,w:100,h:100,distance:1,name:"ground-upper-right"},{x:1700,y:2200,w:100,h:100,distance:1,name:"ground-upper-left"},{x:1800,y:2200,w:500,h:100,distance:1,name:"ground-upper-full"},{x:2300,y:2200,w:100,h:100,distance:1,name:"ground-upper-right"},{x:2500,y:2100,w:100,h:100,distance:1,name:"platform-left"},{x:2600,y:2100,w:300,h:100,distance:1,name:"platform-full"},{x:2900,y:2100,w:100,h:100,distance:1,name:"platform-right"},{x:3100,y:2100,w:100,h:100,distance:1,name:"platform-left"},{x:3200,y:2100,w:300,h:100,distance:1,name:"platform-full"},{x:4500,y:2200,w:100,h:100,distance:1.2,name:"ground-z-back-left"},{x:4600,y:2200,w:500,h:100,distance:1.2,name:"ground-upper-full"},{x:5099,y:2200,w:100,h:100,distance:1.2,name:"ground-upper-right"},{x:4490,y:2200,w:100,h:100,distance:1.18,name:"ground-z-front-full"},{x:4480,y:2200,w:100,h:100,distance:1.16,name:"ground-z-front-full"},{x:4470,y:2200,w:100,h:100,distance:1.14,name:"ground-z-front-full"},{x:4460,y:2200,w:100,h:100,distance:1.12,name:"ground-z-front-full"},{x:4450,y:2200,w:100,h:100,distance:1.1,name:"ground-z-front-full"},{x:4440,y:2200,w:100,h:100,distance:1.08,name:"ground-z-front-full"},{x:4430,y:2200,w:100,h:100,distance:1.06,name:"ground-z-front-full"},{x:4420,y:2200,w:100,h:100,distance:1.04,name:"ground-z-front-full"},{x:4410,y:2200,w:100,h:100,distance:1.02,name:"ground-z-front-full"},{x:4400,y:2200,w:100,h:100,distance:1,name:"ground-z-front-right"},{x:3500,y:2100,w:100,h:100,distance:1,name:"platform-right"},{x:3800,y:2200,w:100,h:100,distance:1,name:"ground-upper-left"},{x:3900,y:2200,w:500,h:100,distance:1,name:"ground-upper-full"},{x:5300,y:2100,w:100,h:100,distance:1.2,name:"platform-small"},{x:5500,y:2e3,w:100,h:100,distance:1.2,name:"platform-small"},{x:5650,y:1800,w:100,h:100,distance:1.2,name:"platform-small"},{x:5400,y:1850,w:100,h:100,distance:1.2,name:"platform-small"},{x:5650,y:1700,w:101,h:100,distance:1.2,name:"platform-left"},{x:5750,y:1700,w:100,h:100,distance:1.2,name:"platform-right"},{x:5950,y:1700,w:101,h:100,distance:1.2,name:"platform-left"},{x:6050,y:1700,w:100,h:100,distance:1.2,name:"platform-right"},{x:6350,y:1700,w:101,h:100,distance:1.2,name:"platform-left"},{x:6450,y:1700,w:100,h:100,distance:1.2,name:"platform-right"},{x:6750,y:1700,w:100,h:100,distance:1.2,name:"ground-upper-small"},{x:6950,y:1200,w:100,h:100,distance:1.2,name:"ground-upper-small"},{x:6750,y:2300,w:101,h:100,distance:1.2,name:"ground-upper-left"},{x:6850,y:2300,w:450,h:100,distance:1.2,name:"ground-upper-full"},{x:7200,y:2300,w:101,h:100,distance:1.2,name:"ground-upper-right"},{x:7500,y:2300,w:101,h:100,distance:1.2,name:"ground-upper-left"},{x:7600,y:2300,w:200,h:100,distance:1.2,name:"ground-upper-full"},{x:7800,y:2300,w:101,h:100,distance:1.2,name:"ground-upper-right"},{x:8100,y:2300,w:101,h:100,distance:1.2,name:"ground-upper-left"},{x:8200,y:2300,w:200,h:100,distance:1.2,name:"ground-upper-full"},{x:8400,y:2300,w:101,h:100,distance:1.2,name:"ground-upper-right"},{x:8800,y:2300,w:101,h:100,distance:1.2,name:"ground-upper-left"},{x:8900,y:2300,w:200,h:100,distance:1.2,name:"ground-upper-full"},{x:9100,y:2300,w:101,h:100,distance:1.2,name:"ground-upper-right"}),e.walls.push({x:100,y:0,w:100,h:2200,distance:1,name:"wall"},{x:1500,y:2200,w:100,h:100,distance:1,name:"wall"},{x:1700,y:2200,w:100,h:100,distance:1,name:"wall"},{x:2300,y:2200,w:100,h:100,distance:1,name:"wall"},{x:3800,y:2200,w:100,h:200,distance:1,name:"wall"},{x:5100,y:2200,w:100,h:200,distance:1.2,name:"wall"},{x:6750,y:1700,w:100,h:500,distance:1.2,name:"wall"},{x:6950,y:1200,w:100,h:1e3,distance:1.2,name:"wall"},{x:6750,y:2300,w:100,h:100,distance:1.2,name:"wall"},{x:7200,y:2300,w:100,h:100,distance:1.2,name:"wall"},{x:7500,y:2300,w:100,h:100,distance:1.2,name:"wall"},{x:7800,y:2300,w:100,h:100,distance:1.2,name:"wall"},{x:8100,y:2300,w:100,h:100,distance:1.2,name:"wall"},{x:8400,y:2300,w:100,h:100,distance:1.2,name:"wall"},{x:8800,y:2300,w:100,h:100,distance:1.2,name:"wall"},{x:9100,y:2300,w:100,h:100,distance:1.2,name:"wall"}),e.portals.push({x:4501,y:2e3,w:100,h:200,distance:1,name:"portal",destX:4410,destDistance:1.02},{x:4511,y:2e3,w:100,h:200,distance:1.02,name:"portal",destX:4420,destDistance:1.04},{x:4521,y:2e3,w:100,h:200,distance:1.04,name:"portal",destX:4430,destDistance:1.06},{x:4531,y:2e3,w:100,h:200,distance:1.06,name:"portal",destX:4440,destDistance:1.08},{x:4541,y:2e3,w:100,h:200,distance:1.08,name:"portal",destX:4450,destDistance:1.1},{x:4299,y:2e3,w:101,h:200,distance:1.02,name:"portal",destX:4400,destDistance:1},{x:4309,y:2e3,w:101,h:200,distance:1.04,name:"portal",destX:4410,destDistance:1.02},{x:4319,y:2e3,w:101,h:200,distance:1.06,name:"portal",destX:4420,destDistance:1.04},{x:4329,y:2e3,w:101,h:200,distance:1.08,name:"portal",destX:4430,destDistance:1.06},{x:4339,y:2e3,w:101,h:200,distance:1.1,name:"portal",destX:4440,destDistance:1.08},{x:4551,y:2e3,w:100,h:200,distance:1.1,name:"portal",destX:4460,destDistance:1.12},{x:4561,y:2e3,w:100,h:200,distance:1.12,name:"portal",destX:4470,destDistance:1.14},{x:4571,y:2e3,w:100,h:200,distance:1.14,name:"portal",destX:4480,destDistance:1.16},{x:4581,y:2e3,w:100,h:200,distance:1.16,name:"portal",destX:4490,destDistance:1.18},{x:4591,y:2e3,w:100,h:200,distance:1.18,name:"portal",destX:4500,destDistance:1.2},{x:4349,y:2e3,w:101,h:200,distance:1.12,name:"portal",destX:4450,destDistance:1.1},{x:4359,y:2e3,w:101,h:200,distance:1.14,name:"portal",destX:4460,destDistance:1.12},{x:4369,y:2e3,w:101,h:200,distance:1.16,name:"portal",destX:4470,destDistance:1.14},{x:4379,y:2e3,w:101,h:200,distance:1.18,name:"portal",destX:4480,destDistance:1.16},{x:4389,y:2e3,w:101,h:200,distance:1.2,name:"portal",destX:4490,destDistance:1.18}),e.gems.push({x:400,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:7},{x:600,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:1},{x:800,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:3},{x:1e3,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:5},{x:1200,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:7},{x:1400,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:1},{x:1600,y:2e3,w:100,h:100,distance:1,name:"Col",animationCounter:4},{x:1800,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:2},{x:1900,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:2},{x:2100,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:6},{x:2200,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:6},{x:2550,y:2e3,w:100,h:100,distance:1,name:"Col",animationCounter:1},{x:2700,y:1900,w:100,h:100,distance:1,name:"Col",animationCounter:1},{x:2850,y:2e3,w:100,h:100,distance:1,name:"Col",animationCounter:1},{x:3e3,y:1900,w:100,h:100,distance:1,name:"CollectableA",animationCounter:1},{x:3150,y:2e3,w:100,h:100,distance:1,name:"Col",animationCounter:1},{x:3300,y:1900,w:100,h:100,distance:1,name:"Col",animationCounter:1},{x:3450,y:2e3,w:100,h:100,distance:1,name:"Col",animationCounter:1},{x:3800,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:2},{x:3900,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:2},{x:4e3,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:2},{x:4100,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:2},{x:4200,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:2},{x:4300,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:2},{x:4400,y:2100,w:100,h:100,distance:1,name:"Col",animationCounter:2},{x:4750,y:2e3,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:5050,y:2e3,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:5300,y:2e3,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:5300,y:2100,w:100,h:100,distance:1.2,name:"CollectableB",animationCounter:1},{x:5500,y:1900,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:5400,y:1750,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:5650,y:1600,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:5750,y:1600,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:5850,y:1550,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:6050,y:1600,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:6150,y:1550,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:6850,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:6850,y:2030,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:7200,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:7350,y:2050,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:7500,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:7600,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:7700,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:7800,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:7950,y:2050,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:8100,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:8200,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:8250,y:2e3,w:100,h:100,distance:1.2,name:"CollectableC",animationCounter:1},{x:8300,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:8400,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:8550,y:2050,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:8700,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7},{x:8800,y:2200,w:100,h:100,distance:1.2,name:"Col",animationCounter:7}),e.jumpzones.push({area:{x:5800,y:1900,w:100,h:100,distance:1.2,name:"jumpzone"},availability:u.B.AVAILABLE,animationCounter:1,drawables:[...this.generateJumpzoneDrawables({x:5800,y:1900,w:100,h:100,distance:1.2,name:"jumpzonesingleavailable"})]},{area:{x:6e3,y:1850,w:100,h:100,distance:1.2,name:"jumpzone"},availability:u.B.AVAILABLE,animationCounter:1,drawables:[...this.generateJumpzoneDrawables({x:6e3,y:1850,w:100,h:100,distance:1.2,name:"jumpzonesingleavailable"})]},{area:{x:6200,y:1800,w:100,h:100,distance:1.2,name:"jumpzone"},availability:u.B.AVAILABLE,animationCounter:1,drawables:[...this.generateJumpzoneDrawables({x:6200,y:1800,w:100,h:100,distance:1.2,name:"jumpzonesingleavailable"})]}),e.enemies.push({x:2e3,y:2e3,w:100,h:100,spawnx1:1200,spawnx2:3600,distance:1,name:"pig",dir:s.X.RIGHT,animationCounter:1,animationCounterDelay:0,hitbox:{x:2010,y:2040,w:80,h:50,distance:1,name:"hitbox"},isFlying:!1,horizontalVelocity:0,verticalVelocity:0,mSpeed:3,mFallSpeed:10,deathVelocityX:18,deathVelocityY:-10,groundOffset:5,hardWalls:[{x:1500,y:2200,w:100,h:200,distance:1,name:"wall"},{x:1700,y:2200,w:100,h:200,distance:1,name:"wall"}],softWalls:[{x:1600,y:2e3,w:100,h:200,distance:1,name:"wall"},{x:2400,y:2e3,w:100,h:200,distance:1,name:"wall"}],floors:[{x:1200,y:2200,w:300,h:100,distance:1,name:"floor"},{x:1700,y:2200,w:700,h:100,distance:1,name:"floor"}],action:o.U.NONE,xo:2e3,yo:2e3,diro:s.X.RIGHT,anco:1,ancdo:0,hitboxxo:2010,hitboxyo:2040,hvo:0,vvo:0,mso:3,swo:[{x:1600,y:2e3,w:100,h:200,distance:1,name:"wall"},{x:2400,y:2e3,w:100,h:200,distance:1,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:4800,y:2e3,w:100,h:100,spawnx1:3e3,spawnx2:6800,distance:1.2,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:4810,y:2005,w:80,h:30,distance:1.2,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:2,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[{x:4500,y:2e3,w:100,h:200,distance:1.2,name:"wall"},{x:5200,y:2e3,w:100,h:200,distance:1.2,name:"wall"}],floors:[{x:4500,y:2200,w:700,h:100,distance:1.2,name:"floor"}],action:o.U.NONE,xo:4800,yo:2e3,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:4810,hitboxyo:2005,hvo:0,vvo:0,mso:2,swo:[{x:4500,y:2e3,w:100,h:200,distance:1.2,name:"wall"},{x:5200,y:2e3,w:100,h:200,distance:1.2,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:5300,y:2200,w:100,h:100,spawnx1:4e3,spawnx2:6800,distance:1.2,name:"owl",dir:s.X.RIGHT,animationCounter:1,animationCounterDelay:0,hitbox:{x:5310,y:2205,w:80,h:30,distance:1,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:5300,yo:2200,diro:s.X.RIGHT,anco:1,ancdo:0,hitboxxo:5310,hitboxyo:2205,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0},{x:5400,y:2150,w:100,h:100,spawnx1:4e3,spawnx2:6800,distance:1.2,name:"owl",dir:s.X.RIGHT,animationCounter:1,animationCounterDelay:0,hitbox:{x:5410,y:2155,w:80,h:30,distance:1,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:5400,yo:2150,diro:s.X.RIGHT,anco:1,ancdo:0,hitboxxo:5410,hitboxyo:2155,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0},{x:5650,y:1875,w:100,h:100,spawnx1:4e3,spawnx2:6800,distance:1.2,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:5660,y:1880,w:80,h:30,distance:1,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:5650,yo:1875,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:5660,hitboxyo:1880,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0},{x:6200,y:1550,w:100,h:100,spawnx1:4800,spawnx2:7500,distance:1.2,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:6210,y:1555,w:80,h:30,distance:1,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:6200,yo:1550,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:6210,hitboxyo:1555,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0},{x:7600,y:2e3,w:100,h:100,spawnx1:6e3,spawnx2:1e4,distance:1.2,name:"pig",dir:s.X.RIGHT,animationCounter:1,animationCounterDelay:0,hitbox:{x:7610,y:2040,w:80,h:50,distance:1,name:"hitbox"},isFlying:!1,horizontalVelocity:0,verticalVelocity:0,mSpeed:3,mFallSpeed:10,deathVelocityX:18,deathVelocityY:-10,groundOffset:5,hardWalls:[{x:7300,y:2300,w:100,h:200,distance:1.2,name:"wall"},{x:8100,y:2300,w:100,h:200,distance:1.2,name:"wall"}],softWalls:[{x:7400,y:2100,w:100,h:200,distance:1.2,name:"wall"},{x:7900,y:2100,w:100,h:200,distance:1.2,name:"wall"}],floors:[{x:7500,y:2300,w:400,h:100,distance:1.2,name:"floor"},{x:6750,y:2300,w:650,h:100,distance:1.2,name:"floor"}],action:o.U.NONE,xo:7600,yo:2e3,diro:s.X.RIGHT,anco:1,ancdo:0,hitboxxo:7610,hitboxyo:2040,hvo:0,vvo:0,mso:3,swo:[{x:7400,y:2100,w:100,h:200,distance:1.2,name:"wall"},{x:7900,y:2100,w:100,h:200,distance:1.2,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:8250,y:2160,w:100,h:100,spawnx1:7e3,spawnx2:9500,distance:1.2,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:8260,y:2165,w:80,h:30,distance:1,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:8250,yo:2160,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:8260,hitboxyo:2165,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0},{x:8700,y:2300,w:100,h:100,spawnx1:7e3,spawnx2:9500,distance:1.2,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:8710,y:2305,w:80,h:30,distance:1,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:8700,yo:2300,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:8710,hitboxyo:2305,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0}),e.skyLineLayer.push({x:800,y:0,w:300,h:200,distance:8,name:"cloud2",resizeWhenDistant:!1},{name:"cloud3",x:8e3,y:-200,w:300,h:200,distance:8,resizeWhenDistant:!1},{name:"cloud1",x:1500,y:1500,w:100,h:100,distance:4,resizeWhenDistant:!1},{name:"cloud1",x:200,y:1300,w:100,h:100,distance:4,resizeWhenDistant:!1},{name:"cloud1",x:-300,y:2200,w:100,h:100,distance:4,resizeWhenDistant:!1},{name:"cloud1",x:3600,y:1600,w:100,h:100,distance:4,resizeWhenDistant:!1},{name:"tree1",x:-400,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:-200,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:-0,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:200,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:400,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:600,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:800,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:1e3,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:1200,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:1400,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:2400,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:5125,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:5350,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:5575,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:5800,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:6025,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:6250,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:6475,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:6700,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:-300,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:-100,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:100,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:300,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:500,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:700,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:900,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:1100,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:5e3,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:5200,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:5400,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:5600,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:5800,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:6e3,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:6200,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"ground-z-filler-small",x:4500,y:2299,w:100,h:100,distance:1.2},{name:"ground-middle-full",x:4600,y:2299,w:500,h:100,distance:1.2},{name:"ground-middle-right",x:5099,y:2299,w:100,h:100,distance:1.2},{name:"ground-z-filler",x:4490,y:2299,w:100,h:100,distance:1.18},{name:"ground-z-filler",x:4480,y:2299,w:100,h:100,distance:1.16},{name:"ground-z-filler",x:4470,y:2299,w:100,h:100,distance:1.14},{name:"ground-z-filler",x:4460,y:2299,w:100,h:100,distance:1.12},{name:"ground-z-filler",x:4450,y:2299,w:100,h:100,distance:1.1},{name:"ground-z-filler",x:4440,y:2299,w:100,h:100,distance:1.08},{name:"ground-z-filler",x:4430,y:2299,w:100,h:100,distance:1.06},{name:"ground-z-filler",x:4420,y:2299,w:100,h:100,distance:1.04},{name:"ground-z-filler",x:4410,y:2299,w:100,h:100,distance:1.02},{x:6750,y:1800,w:100,h:300,distance:1.2,name:"ground-middle-small"},{x:6750,y:2100,w:100,h:100,distance:1.2,name:"ground-bottom-small"},{x:6950,y:1300,w:100,h:800,distance:1.2,name:"ground-middle-small"},{x:6950,y:2100,w:100,h:100,distance:1.2,name:"ground-bottom-small"}),e.centerLayer.push(...e.platforms,...[].concat(...e.jumpzones.map(t=>t.drawables)),...e.gems,...e.enemies,e.player,e.finish),e.frontLayer.push({name:"tree1",x:4700,y:1950,w:220,h:440,distance:.8,resizeWhenDistant:!1},{name:"tree1",x:5e3,y:1950,w:220,h:440,distance:.8,resizeWhenDistant:!1}),e.uiDrawables.push({x:0,y:0,w:800,h:3e3,distance:1,name:"ui",uiDrawable:{x:200,y:50,w:150,h:113,distance:1,name:"WalkGuide",animationCounter:1},uiMaxAnim:2},{x:0,y:0,w:800,h:3e3,distance:1,name:"ui",uiDrawable:{x:450,y:50,w:150,h:113,distance:1,name:"JumpGuide",animationCounter:1},uiMaxAnim:2},{x:1300,y:0,w:300,h:3e3,distance:1,name:"ui",uiDrawable:{x:325,y:50,w:150,h:113,distance:1,name:"GapGuide",animationCounter:1},uiMaxAnim:2},{x:1800,y:0,w:400,h:3e3,distance:1,name:"ui",uiDrawable:{x:325,y:50,w:150,h:113,distance:1,name:"EnemyGuide",animationCounter:1},uiMaxAnim:2},{x:3800,y:0,w:800,h:3e3,distance:1,name:"ui",uiDrawable:{x:200,y:50,w:150,h:113,distance:1,name:"JumpKillGuide",animationCounter:1},uiMaxAnim:3},{x:3800,y:0,w:800,h:3e3,distance:1,name:"ui",uiDrawable:{x:450,y:50,w:150,h:113,distance:1,name:"PunchGuide",animationCounter:1},uiMaxAnim:2}),e};getLevel2=()=>{const e={code:"2",width:7500,height:2400,player:{x:300,y:1800,w:100,h:100,verticalVelocity:10,animationCounter:1,distance:1.1,mSpeed:10,dir:s.X.RIGHT,dmgDir:s.X.LEFT,action:o.U.NONE,verticalAction:o.U.NONE,blockingAction:o.U.NONE,name:"player",gems:[],bigGems:[],hidden:!1,health:4},camera:{x:100,y:100,w:800,h:500},platforms:[],walls:[],portals:[],gems:[],jumpzones:[],enemies:[],skyLineLayer:[],backLayer:[],centerLayer:[],frontLayer:[],animatedDrawables:[],uiDrawables:[],gravity:2,jumpPower:-25,maxFallSpeed:15,finish:{x:7100,y:1400,w:100,h:100,distance:1.6,name:"Finish"}};return e.platforms.push({x:300,y:2200,w:101,h:100,distance:1.1,name:"ground-upper-left"},{x:400,y:2200,w:501,h:100,distance:1.1,name:"ground-upper-full"},{x:900,y:2200,w:100,h:100,distance:1.1,name:"ground-upper-right"},{x:1100,y:2200,w:101,h:100,distance:1.1,name:"ground-upper-left"},{x:1200,y:2200,w:501,h:100,distance:1.1,name:"ground-upper-full"},{x:1700,y:2200,w:100,h:100,distance:1.1,name:"ground-upper-right"},{x:2e3,y:2200,w:101,h:100,distance:1.1,name:"ground-upper-left"},{x:2100,y:2200,w:501,h:100,distance:1.1,name:"ground-upper-full"},{x:2600,y:2200,w:100,h:100,distance:1.1,name:"ground-upper-right"},{x:2e3,y:1900,w:100,h:100,distance:1.6,name:"platform-left"},{x:2100,y:1900,w:500,h:100,distance:1.6,name:"platform-full"},{x:2600,y:1900,w:100,h:100,distance:1.6,name:"platform-right"},{x:1150,y:1800,w:100,h:100,distance:1.6,name:"platform-left"},{x:1250,y:1800,w:500,h:100,distance:1.6,name:"platform-full"},{x:1750,y:1800,w:100,h:100,distance:1.6,name:"platform-right"},{x:350,y:2e3,w:100,h:100,distance:1.6,name:"platform-left"},{x:450,y:2e3,w:200,h:100,distance:1.6,name:"platform-full"},{x:650,y:2e3,w:100,h:100,distance:1.6,name:"platform-right"},{x:350,y:1900,w:100,h:100,distance:1.6,name:"platform-small"},{x:350,y:1800,w:100,h:100,distance:1.6,name:"platform-small"},{x:350,y:1700,w:100,h:100,distance:1.6,name:"platform-small"},{x:350,y:1600,w:100,h:100,distance:1.6,name:"platform-small"},{x:350,y:1500,w:100,h:100,distance:1.6,name:"platform-small"},{x:350,y:1400,w:100,h:100,distance:1.6,name:"platform-small"},{x:350,y:1300,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1700,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1600,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1500,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1400,w:100,h:100,distance:1.6,name:"platform-left"},{x:1250,y:1400,w:500,h:100,distance:1.6,name:"platform-full"},{x:1750,y:1400,w:100,h:100,distance:1.6,name:"platform-right"},{x:3e3,y:2200,w:101,h:100,distance:1.1,name:"ground-upper-left"},{x:3100,y:2200,w:501,h:100,distance:1.1,name:"ground-upper-full"},{x:3600,y:2200,w:100,h:100,distance:1.1,name:"ground-upper-right"},{x:3900,y:2200,w:101,h:100,distance:1.1,name:"ground-upper-left"},{x:4e3,y:2200,w:501,h:100,distance:1.1,name:"ground-upper-full"},{x:4500,y:2200,w:100,h:100,distance:1.1,name:"ground-upper-right"},{x:4700,y:2200,w:101,h:100,distance:1.1,name:"ground-upper-left"},{x:4800,y:2200,w:100,h:100,distance:1.1,name:"ground-upper-right"},{x:4900,y:2e3,w:101,h:100,distance:1.6,name:"ground-upper-left"},{x:5e3,y:2e3,w:501,h:100,distance:1.6,name:"ground-upper-full"},{x:5500,y:2e3,w:100,h:100,distance:1.6,name:"ground-upper-right"},{x:4400,y:1400,w:100,h:100,distance:1.6,name:"platform-left"},{x:4500,y:1400,w:500,h:100,distance:1.6,name:"platform-full"},{x:5e3,y:1400,w:100,h:100,distance:1.6,name:"platform-right"},{x:6200,y:1500,w:100,h:100,distance:1.6,name:"platform-left"},{x:6300,y:1500,w:800,h:100,distance:1.6,name:"platform-full"},{x:7100,y:1500,w:100,h:100,distance:1.6,name:"platform-right"},{x:6100,y:1950,w:100,h:100,distance:1.6,name:"platform-small"},{x:6500,y:1800,w:100,h:100,distance:1.6,name:"platform-small"},{x:6500,y:1650,w:100,h:100,distance:1.6,name:"platform-small"}),e.walls.push({x:300,y:2200,w:700,h:200,distance:1.1,name:"wall"},{x:1100,y:2200,w:700,h:200,distance:1.1,name:"wall"},{x:2e3,y:2200,w:700,h:200,distance:1.1,name:"wall"},{x:4900,y:2e3,w:700,h:600,distance:1.6,name:"wall"}),e.portals.push({x:5120,y:1200,w:60,h:200,distance:1.6,name:"portal",destX:4900,destY:1850,destDistance:1.6},{x:4820,y:1800,w:60,h:200,distance:1.6,name:"portal",destX:4900,destY:1250,destDistance:1.6},{x:4920,y:2e3,w:60,h:200,distance:1.1,name:"portal",destX:4900,destY:1850,destDistance:1.6},{x:2720,y:2e3,w:60,h:200,distance:1.1,name:"portal",destX:2500,destY:1750,destDistance:1.6},{x:2720,y:1700,w:60,h:200,distance:1.6,name:"portal",destX:2500,destY:2e3,destDistance:1.1},{x:1870,y:1200,w:60,h:200,distance:1.6,name:"portal",destX:3100,destY:2e3,destDistance:1.1},{x:2920,y:2e3,w:60,h:200,distance:1.1,name:"portal",destX:1700,destY:1200,destDistance:1.6}),e.gems.push({x:5700,y:2e3,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:5800,y:1950,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:5900,y:1900,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:6e3,y:1850,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:6100,y:1850,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:6200,y:1750,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:6350,y:1700,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:6500,y:1700,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:6500,y:1550,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:6500,y:1350,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:5100,y:1900,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:5200,y:1900,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:5300,y:1900,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:5400,y:1900,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:5500,y:1900,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:2e3,y:1800,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:2100,y:1800,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:2200,y:1800,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:2300,y:1800,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:2400,y:1800,w:100,h:100,distance:1.6,name:"Col",animationCounter:1},{x:1150,y:1300,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1250,y:1300,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1350,y:1300,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1450,y:1300,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1550,y:1300,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1650,y:1300,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1750,y:1300,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1150,y:1700,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1250,y:1700,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1350,y:1700,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1450,y:1700,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1550,y:1700,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1650,y:1700,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1750,y:1700,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1150,y:1600,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:1150,y:1500,w:100,h:100,distance:1.6,name:"Col",animationCounter:3},{x:500,y:1900,w:100,h:100,distance:1.6,name:"CollectableB",animationCounter:1},{x:4400,y:1300,w:100,h:100,distance:1.6,name:"CollectableC",animationCounter:1},{x:600,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:7},{x:800,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:2},{x:2150,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:2},{x:2250,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:2},{x:2350,y:1850,w:100,h:100,distance:1.1,name:"CollectableA",animationCounter:1},{x:2450,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:5},{x:2550,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:5},{x:3200,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:5},{x:3300,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:5},{x:3400,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:5},{x:4100,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:5},{x:4200,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:5},{x:4300,y:2100,w:100,h:100,distance:1.1,name:"Col",animationCounter:5},{x:3750,y:2e3,w:100,h:100,distance:1.1,name:"Col",animationCounter:1},{x:4600,y:2e3,w:100,h:100,distance:1.1,name:"Col",animationCounter:1}),e.jumpzones.push({area:{x:6e3,y:1590,w:100,h:110,distance:1.6,name:"jumpzone"},availability:u.B.AVAILABLE,animationCounter:1,drawables:[...this.generateJumpzoneDrawables({x:6e3,y:1600,w:100,h:100,distance:1.6,name:"jumpzonesingleavailable"})]},{area:{x:5850,y:1690,w:100,h:110,distance:1.6,name:"jumpzone"},availability:u.B.AVAILABLE,animationCounter:1,drawables:[...this.generateJumpzoneDrawables({x:5850,y:1700,w:100,h:100,distance:1.6,name:"jumpzonesingleavailable"})]},{area:{x:5700,y:1790,w:100,h:110,distance:1.6,name:"jumpzone"},availability:u.B.AVAILABLE,animationCounter:1,drawables:[...this.generateJumpzoneDrawables({x:5700,y:1800,w:100,h:100,distance:1.6,name:"jumpzonesingleavailable"})]},{area:{x:2350,y:2090,w:100,h:110,distance:1.1,name:"jumpzone"},availability:u.B.AVAILABLE,animationCounter:1,drawables:[...this.generateJumpzoneDrawables({x:2350,y:2100,w:100,h:100,distance:1.1,name:"jumpzonesingleavailable"})]}),e.enemies.push({x:6350,y:1800,w:100,h:100,spawnx1:4e3,spawnx2:8e3,distance:1.6,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:6360,y:1805,w:80,h:30,distance:1.6,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:6350,yo:1800,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:6360,hitboxyo:1805,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0},{x:6200,y:1850,w:100,h:100,spawnx1:4e3,spawnx2:8e3,distance:1.6,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:6210,y:1855,w:80,h:30,distance:1.6,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:6200,yo:1850,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:6210,hitboxyo:1855,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0},{x:6e3,y:1950,w:100,h:100,spawnx1:4e3,spawnx2:8e3,distance:1.6,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:6010,y:1955,w:80,h:30,distance:1.6,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:6e3,yo:1950,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:6010,hitboxyo:1955,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0},{x:5900,y:2e3,w:100,h:100,spawnx1:4e3,spawnx2:8e3,distance:1.6,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:5910,y:2005,w:80,h:30,distance:1.6,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:5900,yo:2e3,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:5910,hitboxyo:2005,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0},{x:5800,y:2050,w:100,h:100,spawnx1:4e3,spawnx2:8e3,distance:1.6,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:5810,y:2055,w:80,h:30,distance:1.6,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:5800,yo:2050,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:5810,hitboxyo:2055,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0},{x:5700,y:2100,w:100,h:100,spawnx1:4e3,spawnx2:8e3,distance:1.6,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:5710,y:2105,w:80,h:30,distance:1.6,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:0,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[],floors:[],action:o.U.NONE,xo:5700,yo:2100,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:5710,hitboxyo:2105,hvo:0,vvo:0,mso:0,swo:[],actiono:o.U.NONE,pushVelocityX:0},{x:4500,y:2e3,w:100,h:100,spawnx1:3e3,spawnx2:6e3,distance:1.1,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:4510,y:2005,w:80,h:30,distance:1.1,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:4,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[{x:3800,y:2e3,w:100,h:200,distance:1.1,name:"wall"},{x:4600,y:2e3,w:100,h:200,distance:1.1,name:"wall"}],floors:[{x:3900,y:2200,w:101,h:100,distance:1.1,name:"ground-upper-left"},{x:4e3,y:2200,w:501,h:100,distance:1.1,name:"ground-upper-full"},{x:4500,y:2200,w:100,h:100,distance:1.1,name:"ground-upper-right"},{x:4700,y:2200,w:101,h:100,distance:1.1,name:"ground-upper-left"},{x:4800,y:2200,w:100,h:100,distance:1.1,name:"ground-upper-right"}],action:o.U.NONE,xo:4500,yo:2e3,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:4510,hitboxyo:2005,hvo:0,vvo:0,mso:4,swo:[{x:3800,y:2e3,w:100,h:200,distance:1.1,name:"wall"},{x:4600,y:2e3,w:100,h:200,distance:1.1,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:4400,y:1900,w:150,h:150,spawnx1:3e3,spawnx2:6e3,distance:1.1,name:"bear",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,animationFrames:6,hitbox:{x:4405,y:1940,w:140,h:100,distance:1.1,name:"hitbox"},isFlying:!1,isInvincible:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:3,mFallSpeed:10,deathVelocityX:10,deathVelocityY:-8,groundOffset:5,hardWalls:[],softWalls:[{x:3800,y:2e3,w:100,h:200,distance:1.1,name:"wall"},{x:4600,y:2e3,w:100,h:200,distance:1.1,name:"wall"}],floors:[{x:3900,y:2200,w:101,h:100,distance:1.1,name:"ground-upper-left"},{x:4e3,y:2200,w:501,h:100,distance:1.1,name:"ground-upper-full"},{x:4500,y:2200,w:100,h:100,distance:1.1,name:"ground-upper-right"}],action:o.U.NONE,xo:4400,yo:1900,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:4405,hitboxyo:1940,hvo:0,vvo:0,mso:3,swo:[{x:3800,y:2e3,w:100,h:200,distance:1.1,name:"wall"},{x:4600,y:2e3,w:100,h:200,distance:1.1,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:4500,y:2100,w:100,h:100,spawnx1:3e3,spawnx2:6e3,distance:1.1,name:"wolf",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:4510,y:2145,w:80,h:50,distance:1.1,name:"hitbox"},isFlying:!1,horizontalVelocity:0,verticalVelocity:0,mSpeed:9,mFallSpeed:10,deathVelocityX:20,deathVelocityY:-15,groundOffset:5,hardWalls:[],softWalls:[{x:3800,y:2e3,w:100,h:200,distance:1.1,name:"wall"},{x:4600,y:2e3,w:100,h:200,distance:1.1,name:"wall"}],floors:[{x:3900,y:2200,w:101,h:100,distance:1.1,name:"ground-upper-left"},{x:4e3,y:2200,w:501,h:100,distance:1.1,name:"ground-upper-full"},{x:4500,y:2200,w:100,h:100,distance:1.1,name:"ground-upper-right"}],action:o.U.NONE,xo:4500,yo:2100,diro:s.X.RIGHT,anco:1,ancdo:0,hitboxxo:4510,hitboxyo:2145,hvo:0,vvo:0,mso:9,swo:[{x:3800,y:2e3,w:100,h:200,distance:1.1,name:"wall"},{x:4600,y:2e3,w:100,h:200,distance:1.1,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:3600,y:2100,w:100,h:100,spawnx1:2e3,spawnx2:5e3,distance:1.1,name:"wolf",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:3610,y:2145,w:80,h:50,distance:1.1,name:"hitbox"},isFlying:!1,horizontalVelocity:0,verticalVelocity:0,mSpeed:9,mFallSpeed:10,deathVelocityX:20,deathVelocityY:-15,groundOffset:5,hardWalls:[],softWalls:[{x:2900,y:2e3,w:100,h:200,distance:1.1,name:"wall"},{x:3700,y:2e3,w:100,h:200,distance:1.1,name:"wall"}],floors:[{x:3e3,y:2200,w:101,h:100,distance:1.1,name:"ground-upper-left"},{x:3100,y:2200,w:501,h:100,distance:1.1,name:"ground-upper-full"},{x:3600,y:2200,w:100,h:100,distance:1.1,name:"ground-upper-right"}],action:o.U.NONE,xo:3600,yo:2100,diro:s.X.RIGHT,anco:1,ancdo:0,hitboxxo:3610,hitboxyo:2145,hvo:0,vvo:0,mso:9,swo:[{x:2900,y:2e3,w:100,h:200,distance:1.1,name:"wall"},{x:3700,y:2e3,w:100,h:200,distance:1.1,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:1150,y:1200,w:100,h:100,spawnx1:0,spawnx2:4e3,distance:1.6,name:"wolf",dir:s.X.RIGHT,animationCounter:1,animationCounterDelay:0,hitbox:{x:1160,y:1245,w:80,h:50,distance:1.6,name:"hitbox"},isFlying:!1,horizontalVelocity:0,verticalVelocity:0,mSpeed:9,mFallSpeed:10,deathVelocityX:20,deathVelocityY:-15,groundOffset:5,hardWalls:[],softWalls:[{x:1050,y:1200,w:100,h:200,distance:1.6,name:"wall"},{x:1850,y:1200,w:100,h:200,distance:1.6,name:"wall"}],floors:[{x:1150,y:1700,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1600,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1500,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1400,w:100,h:100,distance:1.6,name:"platform-left"},{x:1250,y:1400,w:500,h:100,distance:1.6,name:"platform-full"},{x:1750,y:1400,w:100,h:100,distance:1.6,name:"platform-right"},{x:1150,y:1800,w:100,h:100,distance:1.6,name:"platform-left"},{x:1250,y:1800,w:500,h:100,distance:1.6,name:"platform-full"},{x:1750,y:1800,w:100,h:100,distance:1.6,name:"platform-right"}],action:o.U.NONE,xo:1150,yo:1200,diro:s.X.RIGHT,anco:1,ancdo:0,hitboxxo:1160,hitboxyo:1245,hvo:0,vvo:0,mso:9,swo:[{x:1050,y:1200,w:100,h:200,distance:1.6,name:"wall"},{x:1850,y:1200,w:100,h:200,distance:1.6,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:1250,y:1200,w:100,h:100,spawnx1:0,spawnx2:4e3,distance:1.6,name:"wolf",dir:s.X.RIGHT,animationCounter:1,animationCounterDelay:0,hitbox:{x:1260,y:1245,w:80,h:50,distance:1.6,name:"hitbox"},isFlying:!1,horizontalVelocity:0,verticalVelocity:0,mSpeed:9,mFallSpeed:10,deathVelocityX:20,deathVelocityY:-15,groundOffset:5,hardWalls:[],softWalls:[{x:1050,y:1200,w:100,h:200,distance:1.6,name:"wall"},{x:1850,y:1200,w:100,h:200,distance:1.6,name:"wall"}],floors:[{x:1150,y:1700,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1600,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1500,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1400,w:100,h:100,distance:1.6,name:"platform-left"},{x:1250,y:1400,w:500,h:100,distance:1.6,name:"platform-full"},{x:1750,y:1400,w:100,h:100,distance:1.6,name:"platform-right"},{x:1150,y:1800,w:100,h:100,distance:1.6,name:"platform-left"},{x:1250,y:1800,w:500,h:100,distance:1.6,name:"platform-full"},{x:1750,y:1800,w:100,h:100,distance:1.6,name:"platform-right"}],action:o.U.NONE,xo:1250,yo:1200,diro:s.X.RIGHT,anco:1,ancdo:0,hitboxxo:1260,hitboxyo:1245,hvo:0,vvo:0,mso:9,swo:[{x:1050,y:1200,w:100,h:200,distance:1.6,name:"wall"},{x:1850,y:1200,w:100,h:200,distance:1.6,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:1150,y:1440,w:100,h:100,spawnx1:0,spawnx2:4e3,distance:1.6,name:"owl",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,hitbox:{x:1160,y:1445,w:80,h:30,distance:1.6,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:4,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[{x:850,y:1400,w:100,h:200,distance:1.6,name:"wall"},{x:1450,y:1400,w:100,h:200,distance:1.6,name:"wall"}],floors:[{x:1150,y:1700,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1600,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1500,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1400,w:100,h:100,distance:1.6,name:"platform-left"},{x:1250,y:1400,w:500,h:100,distance:1.6,name:"platform-full"},{x:1750,y:1400,w:100,h:100,distance:1.6,name:"platform-right"},{x:1150,y:1800,w:100,h:100,distance:1.6,name:"platform-left"},{x:1250,y:1800,w:500,h:100,distance:1.6,name:"platform-full"},{x:1750,y:1800,w:100,h:100,distance:1.6,name:"platform-right"}],action:o.U.NONE,xo:1150,yo:1440,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:1160,hitboxyo:1445,hvo:0,vvo:0,mso:4,swo:[{x:850,y:1400,w:100,h:200,distance:1.6,name:"wall"},{x:1450,y:1400,w:100,h:200,distance:1.6,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:1150,y:1540,w:100,h:100,spawnx1:0,spawnx2:4e3,distance:1.6,name:"owl",dir:s.X.RIGHT,animationCounter:1,animationCounterDelay:0,hitbox:{x:1160,y:1545,w:80,h:30,distance:1.6,name:"hitbox"},isFlying:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:4,mFallSpeed:3,deathVelocityX:20,deathVelocityY:-15,groundOffset:65,hardWalls:[],softWalls:[{x:850,y:1400,w:100,h:200,distance:1.6,name:"wall"},{x:1450,y:1400,w:100,h:200,distance:1.6,name:"wall"}],floors:[{x:1150,y:1700,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1600,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1500,w:100,h:100,distance:1.6,name:"platform-small"},{x:1150,y:1400,w:100,h:100,distance:1.6,name:"platform-left"},{x:1250,y:1400,w:500,h:100,distance:1.6,name:"platform-full"},{x:1750,y:1400,w:100,h:100,distance:1.6,name:"platform-right"},{x:1150,y:1800,w:100,h:100,distance:1.6,name:"platform-left"},{x:1250,y:1800,w:500,h:100,distance:1.6,name:"platform-full"},{x:1750,y:1800,w:100,h:100,distance:1.6,name:"platform-right"}],action:o.U.NONE,xo:1150,yo:1540,diro:s.X.RIGHT,anco:1,ancdo:0,hitboxxo:1160,hitboxyo:1545,hvo:0,vvo:0,mso:4,swo:[{x:850,y:1400,w:100,h:200,distance:1.6,name:"wall"},{x:1450,y:1400,w:100,h:200,distance:1.6,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:1250,y:1600,w:150,h:150,spawnx1:0,spawnx2:4e3,distance:1.6,name:"bear",dir:s.X.RIGHT,animationCounter:1,animationCounterDelay:0,animationFrames:6,hitbox:{x:1255,y:1640,w:140,h:100,distance:1.6,name:"hitbox"},isFlying:!1,isInvincible:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:3,mFallSpeed:10,deathVelocityX:10,deathVelocityY:-8,groundOffset:5,hardWalls:[],softWalls:[{x:1050,y:1700,w:100,h:200,distance:1.6,name:"wall"},{x:1850,y:1700,w:100,h:200,distance:1.6,name:"wall"}],floors:[{x:1150,y:1800,w:700,h:100,distance:1.6,name:"floor"}],action:o.U.NONE,xo:1250,yo:1600,diro:s.X.RIGHT,anco:1,ancdo:0,hitboxxo:1255,hitboxyo:1640,hvo:0,vvo:0,mso:3,swo:[{x:1050,y:1700,w:100,h:200,distance:1.6,name:"wall"},{x:1850,y:1700,w:100,h:200,distance:1.6,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0},{x:1600,y:1900,w:150,h:150,spawnx1:800,spawnx2:3e3,distance:1.1,name:"bear",dir:s.X.LEFT,animationCounter:1,animationCounterDelay:0,animationFrames:6,hitbox:{x:1605,y:1940,w:140,h:100,distance:1.1,name:"hitbox"},isFlying:!1,isInvincible:!0,horizontalVelocity:0,verticalVelocity:0,mSpeed:3,mFallSpeed:10,deathVelocityX:10,deathVelocityY:-8,groundOffset:5,hardWalls:[{x:1100,y:2200,w:700,h:200,distance:1.1,name:"wall"}],softWalls:[{x:1e3,y:2e3,w:100,h:200,distance:1.1,name:"wall"},{x:1800,y:2e3,w:100,h:200,distance:1.1,name:"wall"}],floors:[{x:1100,y:2200,w:700,h:100,distance:1.1,name:"floor"}],action:o.U.NONE,xo:1600,yo:1900,diro:s.X.LEFT,anco:1,ancdo:0,hitboxxo:1605,hitboxyo:1940,hvo:0,vvo:0,mso:3,swo:[{x:1e3,y:2e3,w:100,h:200,distance:1.1,name:"wall"},{x:1800,y:2e3,w:100,h:200,distance:1.1,name:"wall"}],actiono:o.U.NONE,pushVelocityX:0}),e.animatedDrawables.push({name:"portal",x:5100,y:1300,w:100,h:100,distance:1.6,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:5100,y:1200,w:100,h:100,distance:1.6,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:4800,y:1900,w:100,h:100,distance:1.6,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:4800,y:1800,w:100,h:100,distance:1.6,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:4900,y:2e3,w:100,h:100,distance:1.1,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:4900,y:2100,w:100,h:100,distance:1.1,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:2700,y:2e3,w:100,h:100,distance:1.1,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:2700,y:2100,w:100,h:100,distance:1.1,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:2900,y:2e3,w:100,h:100,distance:1.1,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:2900,y:2100,w:100,h:100,distance:1.1,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:2700,y:1700,w:100,h:100,distance:1.6,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:2700,y:1800,w:100,h:100,distance:1.6,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"arrowsr",x:600,y:1200,w:300,h:100,distance:1.6,animationCounter:0,animationCounterDelay:0,maxFrame:3,animationSleep:8},{name:"portal",x:1850,y:1300,w:100,h:100,distance:1.6,animationCounter:0,animationCounterDelay:0,maxFrame:4},{name:"portal",x:1850,y:1200,w:100,h:100,distance:1.6,animationCounter:0,animationCounterDelay:0,maxFrame:4}),e.skyLineLayer.push({name:"cloud3",x:3e3,y:-200,w:300,h:200,distance:8,resizeWhenDistant:!1},{name:"cloud3",x:-2e3,y:700,w:300,h:200,distance:8,resizeWhenDistant:!1},{name:"tree1",x:-400,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:-200,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:-0,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:200,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:400,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:600,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:800,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:1e3,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:1200,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:1400,y:2200,w:100,h:200,distance:2.5,resizeWhenDistant:!1},{name:"tree1",x:-300,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:-100,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:100,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:300,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:500,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:700,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:900,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1},{name:"tree1",x:1100,y:2150,w:110,h:220,distance:2,resizeWhenDistant:!1}),e.centerLayer.push({name:"ground-middle-left",x:4900,y:2099,w:101,h:500,distance:1.6},{name:"ground-middle-full",x:5e3,y:2099,w:501,h:500,distance:1.6},{name:"ground-middle-right",x:5500,y:2099,w:100,h:500,distance:1.6},{name:"ground-middle-left",x:300,y:2300,w:100,h:100,distance:1.1},{name:"ground-middle-full",x:400,y:2300,w:500,h:100,distance:1.1},{name:"ground-middle-right",x:900,y:2300,w:100,h:100,distance:1.1},{name:"ground-middle-left",x:1100,y:2300,w:100,h:100,distance:1.1},{name:"ground-middle-full",x:1200,y:2300,w:500,h:100,distance:1.1},{name:"ground-middle-right",x:1700,y:2300,w:100,h:100,distance:1.1},{name:"ground-middle-left",x:2e3,y:2300,w:100,h:100,distance:1.1},{name:"ground-middle-full",x:2100,y:2300,w:500,h:100,distance:1.1},{name:"ground-middle-right",x:2600,y:2300,w:100,h:100,distance:1.1},{name:"ground-middle-left",x:3e3,y:2300,w:100,h:100,distance:1.1},{name:"ground-middle-full",x:3100,y:2300,w:500,h:100,distance:1.1},{name:"ground-middle-right",x:3600,y:2300,w:100,h:100,distance:1.1},{name:"ground-middle-left",x:3900,y:2300,w:100,h:100,distance:1.1},{name:"ground-middle-full",x:4e3,y:2300,w:500,h:100,distance:1.1},{name:"ground-middle-right",x:4500,y:2300,w:100,h:100,distance:1.1},{name:"ground-middle-left",x:4700,y:2300,w:100,h:100,distance:1.1},{name:"ground-middle-right",x:4800,y:2300,w:100,h:100,distance:1.1},...e.platforms,...e.animatedDrawables,...[].concat(...e.jumpzones.map(t=>t.drawables)),...e.gems,...e.enemies),e.centerLayer.push(e.player,e.finish),e.uiDrawables.push({x:-2e3,y:-300,w:14500,h:3e3,distance:1,name:"ui",uiDrawable:{x:0,y:0,w:800,h:500,distance:1,name:"Darkness"},uiMaxAnim:2}),e};generateJumpzoneDrawables=e=>{const t=[];for(let n=e.x;n<e.x+e.w;n+=100)for(let i=e.y;i<e.y+e.h;i+=100)t.push({id:e.id,x:n,y:i,w:100,h:100,distance:e.distance,name:e.name,animationCounter:1});return t};static \u0275fac=function(t){return new(t||r)};static \u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),w=(()=>{class r{animationTimer=0;bufferedDir=s.X.RIGHT;punchCooldown=0;dmgCooldown=0;immunityCooldown=0;punchBuffer=!1;movementBuffer=!1;jumpBuffer=!1;cancelBuffer=!1;stopBuffer=!1;canJump=!0;updateGemAnimation=!1;replay={isComplete:!1,collector:!1,pacifist:!0,ticks:[]};setUp=()=>{this.bufferedDir=s.X.RIGHT,this.animationTimer=0,this.punchCooldown=0,this.dmgCooldown=0,this.immunityCooldown=0,this.punchBuffer=!1,this.movementBuffer=!1,this.jumpBuffer=!1,this.cancelBuffer=!1,this.stopBuffer=!1,this.canJump=!0,this.updateGemAnimation=!1,this.replay={isComplete:!1,ticks:[],collector:!1,pacifist:!0}};updatePlayer=e=>{this.replay.ticks.push({bufferedDir:this.bufferedDir,punchBuffer:this.punchBuffer,movementBuffer:this.movementBuffer,jumpBuffer:this.jumpBuffer,cancelBuffer:this.cancelBuffer,stopBuffer:this.stopBuffer}),0===this.dmgCooldown&&e.player.blockingAction===o.U.DAMAGE&&(e.player.blockingAction=o.U.NONE,this.immunityCooldown=40),e.player.verticalVelocity+=e.gravity,e.player.verticalVelocity>e.maxFallSpeed&&(e.player.verticalVelocity=e.maxFallSpeed),(e.player.verticalAction===o.U.FALLING||e.player.verticalAction===o.U.JUMPING)&&(e.player.y+=e.player.verticalVelocity);let t=!1;if(this.bufferedDir&&e.player.blockingAction===o.U.NONE&&this.bufferedDir!==e.player.dir&&(t=!0,e.player.dir=this.bufferedDir),this.punchBuffer&&0===this.punchCooldown&&e.player.blockingAction!==o.U.DAMAGE&&(e.player.blockingAction=o.U.PUNCHING,this.punchCooldown=12,this.animationTimer=0,e.player.animationCounter=1),this.movementBuffer&&(e.player.action=o.U.MOVING),this.stopBuffer&&(e.player.blockingAction!==o.U.PUNCHING&&e.player.verticalAction===o.U.NONE&&(e.player.animationCounter=1),e.player.action=o.U.NONE,this.stopBuffer=!1),this.movementBuffer&&t&&(e.player.action=o.U.MOVING),this.movementBuffer=!1,e.player.action===o.U.MOVING||e.player.blockingAction!==o.U.NONE){const n=e.player.blockingAction===o.U.PUNCHING?1.5:e.player.blockingAction===o.U.DAMAGE?.8:1;e.player.x+=Math.trunc(e.player.dir===s.X.RIGHT?e.player.mSpeed*n:-e.player.mSpeed*n)}this.checkGems(e),this.checkPortals(e),this.checkPlatformCollision(e),this.checkJumpZones(e),this.checkWallCollision(e),this.checkEnemyCollision(e),this.handlePlayerAnimation(e.player)};updateActionsFromReplay=e=>{this.bufferedDir=e.bufferedDir,this.punchBuffer=e.punchBuffer,this.movementBuffer=e.movementBuffer,this.jumpBuffer=e.jumpBuffer,this.cancelBuffer=e.cancelBuffer,this.stopBuffer=e.stopBuffer};getReplay=()=>this.replay;completeReplay=()=>{this.replay.isComplete=!0};setBufferedDir=e=>{this.bufferedDir=e};bufferMovement=()=>{this.movementBuffer=!0};movementBeingBuffered=()=>this.movementBuffer;bufferPunch=e=>{this.punchBuffer=e};bufferJump=()=>{this.jumpBuffer=!0};bufferCancel=()=>{this.cancelBuffer=!0};getCanJump=()=>this.canJump;getCanCancel=()=>!this.canJump||this.jumpBuffer;bufferStop=()=>{this.stopBuffer=!0};checkDeath=e=>e.player.y>=e.height;checkFinish=e=>this.intersectRect(e.player.x+30,e.player.y+10,e.player.w-60,e.player.h-90,e.finish.x+10,e.finish.y+10,e.finish.w-20,e.finish.h-20);checkJumpZones=e=>{const t=e.player,n=this.jumpBuffer;for(const i of e.jumpzones)if(this.updateGemAnimation&&(i.animationCounter=i.animationCounter%5+1),i.availability!==u.B.UNAVAILABLE||this.canJump){this.intersectRect(t.x+45,t.y+45,10,10,i.area.x,i.area.y,i.area.w,i.area.h)?(i.availability===u.B.AVAILABLE&&(i.availability=u.B.READY),n&&t.blockingAction!==o.U.DAMAGE&&(i.availability=u.B.UNAVAILABLE,this.jumpBuffer=!1,this.canJump=!1,e.player.verticalAction=o.U.JUMPING,e.player.blockingAction=o.U.NONE,this.punchCooldown=0,e.player.verticalVelocity=e.jumpPower,e.player.animationCounter=1,this.animationTimer=0)):i.availability=u.B.AVAILABLE;for(const l of i.drawables)l.name="jumpzonesingle"+i.availability,l.animationCounter=i.animationCounter}else for(const l of i.drawables)l.name="jumpzonesingle"+i.availability,l.animationCounter=i.animationCounter;n&&(this.jumpBuffer=!1)};checkGems=e=>{const t=e.player;for(const n of e.gems)this.updateGemAnimation&&(n.animationCounter=n.animationCounter%8+1),this.intersectRect(t.x+30,t.y+10,t.w-60,t.h-10,n.x+30,n.y+30,n.w-60,n.h-60)&&t.distance===n.distance&&(e.gems.splice(e.gems.indexOf(n),1),e.centerLayer.splice(e.centerLayer.indexOf(n),1),"Col"===n.name?t.gems.push(n):t.bigGems.push(n));this.updateGemAnimation=!this.updateGemAnimation,50===t.gems.length&&3===t.bigGems.length&&(this.replay.collector=!0)};checkPortals=e=>{const t=e.player;for(const n of e.portals)n.distance===t.distance&&this.intersectRect(t.x,t.y,t.w,t.h,n.x,n.y,n.w,n.h)&&(n.destX&&(t.x=n.destX),n.destY&&(t.y=n.destY),n.destDistance&&(t.distance=n.destDistance),e.centerLayer.sort((i,l)=>l.distance-i.distance==0?"player"===i.name?1:0:l.distance-i.distance))};checkWallCollision=e=>{const t=e.player;for(const n of e.walls)if(n.distance===t.distance){if(this.intersectRect(t.x+30,t.y+20,t.w-60,25,n.x+25,n.y+n.h-25,n.w-50,25))return void(e.player.y=n.y+n.h-20);if(this.intersectRect(t.x,t.y+10,1.5*t.mSpeed,t.h-10,n.x+n.w-t.mSpeed-35,n.y+e.maxFallSpeed,t.mSpeed,n.h-2*e.maxFallSpeed))return void(e.player.x=n.x+n.w-35);if(this.intersectRect(t.x+t.w-1.5*t.mSpeed,t.y+10,1.5*t.mSpeed,t.h-10,n.x+t.mSpeed+35,n.y+e.maxFallSpeed,t.mSpeed,n.h-2*e.maxFallSpeed))return void(e.player.x=n.x+35-t.w)}};checkPlatformCollision=e=>{const t=e.player;for(const n of e.platforms)if(n.distance===t.distance&&this.intersectRect(t.x,t.y+t.h-e.maxFallSpeed,t.w,e.maxFallSpeed,n.x+30,n.y+10,n.w-60,e.maxFallSpeed))return void this.handlePlatformCollision(e,n.y+10-t.h);e.player.verticalAction!==o.U.FALLING&&e.player.verticalVelocity>=0&&(e.player.verticalAction=o.U.FALLING,e.player.blockingAction!==o.U.PUNCHING&&(e.player.animationCounter=1,this.animationTimer=0)),this.cancelBuffer&&(e.player.verticalAction=o.U.FALLING,e.player.blockingAction=o.U.NONE,e.player.animationCounter=1,this.animationTimer=0,e.player.animationCounter=1,this.cancelBuffer=!1,e.player.verticalVelocity=e.maxFallSpeed)};checkEnemyCollision=e=>{if(e.player.blockingAction===o.U.DAMAGE)return;const t=e.player;for(const n of e.enemies)if(n.distance===t.distance&&n.action!==o.U.DEAD){if(t.verticalAction===o.U.FALLING&&this.intersectRect(t.x+30,t.y+t.h-e.maxFallSpeed,t.w-60,e.maxFallSpeed,n.hitbox.x,n.hitbox.y,n.hitbox.w,n.hitbox.h))return void this.handleJumpOnEnemy(t,n);if(t.blockingAction===o.U.PUNCHING&&this.intersectRect(t.dir===s.X.LEFT?t.x-10:t.x+50,t.y+10,60,80,n.hitbox.x,n.hitbox.y,n.hitbox.w,n.hitbox.h))return void this.handlePunchEnemy(t,n);if(t.blockingAction!==o.U.DAMAGE&&0===this.immunityCooldown&&this.intersectRect(t.x+40,t.y+40,20,50,n.hitbox.x+n.hitbox.w/2,n.hitbox.y,n.hitbox.w/2,n.hitbox.h))return t.dir=s.X.RIGHT,void this.handleDmgEnemy(t);if(t.blockingAction!==o.U.DAMAGE&&0===this.immunityCooldown&&this.intersectRect(t.x+40,t.y+40,20,50,n.hitbox.x,n.hitbox.y,n.hitbox.w/2,n.hitbox.h))return t.dir=s.X.LEFT,void this.handleDmgEnemy(t)}};handlePlatformCollision=(e,t)=>{if(e.player.y=t,e.player.verticalAction===o.U.FALLING||e.player.verticalAction===o.U.JUMPING&&e.player.verticalVelocity>=0){e.player.verticalAction=o.U.NONE,this.canJump=!0;for(const n of e.jumpzones)n.availability=u.B.AVAILABLE}this.jumpBuffer&&this.getCanJump()&&e.player.blockingAction!==o.U.DAMAGE&&(this.canJump=!1,e.player.verticalAction=o.U.JUMPING,e.player.blockingAction=o.U.NONE,this.punchCooldown=0,e.player.verticalVelocity=e.jumpPower,e.player.animationCounter=1,this.animationTimer=0)};handleJumpOnEnemy=(e,t)=>{e.verticalAction=o.U.JUMPING,e.blockingAction!==o.U.PUNCHING&&(e.animationCounter=1,this.animationTimer=0),e.verticalVelocity=-15,t.isInvincible||(t.action=o.U.DEAD,t.animationCounter=1,this.replay.pacifist=!1)};handlePunchEnemy=(e,t)=>{t.isInvincible?(e.animationCounter=1,e.blockingAction=o.U.NONE,t.verticalVelocity=t.deathVelocityY,t.pushVelocityX=t.deathVelocityX*(e.dir===s.X.RIGHT?1:-1)):(t.action=o.U.DEAD,t.softWalls=[],t.dir=e.dir,t.animationCounter=1,t.verticalVelocity=t.deathVelocityY,t.horizontalVelocity=t.deathVelocityX,this.replay.pacifist=!1)};handleDmgEnemy=e=>{e.blockingAction=o.U.DAMAGE,e.verticalAction=o.U.FALLING,e.animationCounter=1,e.verticalVelocity=0,this.dmgCooldown=15,e.health--};checkMapCollision=e=>{};handlePlayerAnimation=e=>{if(this.immunityCooldown>0&&(this.immunityCooldown--,e.hidden=this.immunityCooldown%8>3),this.punchCooldown>0&&e.blockingAction!==o.U.PUNCHING&&this.punchCooldown--,this.dmgCooldown>0)this.dmgCooldown--;else if(this.animationTimer++,3===this.animationTimer){if(this.animationTimer=0,e.blockingAction===o.U.PUNCHING){if(e.animationCounter+=1,5!==e.animationCounter)return;e.animationCounter=1,e.blockingAction=o.U.NONE}e.verticalAction===o.U.NONE?e.animationCounter=e.animationCounter%8+1:(e.verticalAction===o.U.FALLING&&(e.animationCounter=Math.min(e.animationCounter+1,2)),e.verticalAction===o.U.JUMPING&&(e.animationCounter=Math.min(e.animationCounter+1,4)))}};intersectRect=(e,t,n,i,l,c,p,f)=>this.intersectRange(e,e+n,l,l+p)&&this.intersectRange(t,t+i,c,c+f);intersectRange=(e,t,n,i)=>Math.max(e,n)<=Math.min(t,i);static \u0275fac=function(t){return new(t||r)};static \u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),E=(()=>{class r{updateEnemies=e=>{for(const t of e.enemies){if(!this.intersectRange(e.player.x,e.player.x+e.player.w,t.spawnx1,t.spawnx2)){this.resetEnemyPos(t);continue}t.verticalVelocity+=e.gravity,t.verticalVelocity>t.mFallSpeed&&(t.verticalVelocity=t.mFallSpeed),(!t.isFlying||t.action===o.U.DEAD)&&(t.y+=t.verticalVelocity,t.hitbox.y+=t.verticalVelocity),t.action===o.U.DEAD&&(t.mSpeed=t.horizontalVelocity,t.horizontalVelocity--,t.horizontalVelocity<0&&(t.horizontalVelocity=0));const n=Math.trunc(t.dir===s.X.RIGHT?t.mSpeed:-t.mSpeed)+t.pushVelocityX;t.pushVelocityX>0&&t.pushVelocityX--,t.pushVelocityX<0&&t.pushVelocityX++,t.x+=n,t.hitbox.x+=n,this.checkPlatformCollision(t),this.checkWallCollision(t),this.handleEnemyAnimation(t)}};checkWallCollision=e=>{for(const t of[...e.softWalls,...e.hardWalls])if(this.intersectRect(e.hitbox.x,e.hitbox.y,e.hitbox.w,e.hitbox.h,t.x,t.y,t.w,t.h))return void(e.action===o.U.DEAD?(e.x-=e.dir===s.X.RIGHT?e.mSpeed:-e.mSpeed,e.hitbox.x-=e.dir===s.X.RIGHT?e.mSpeed:-e.mSpeed):e.dir===s.X.LEFT?(e.dir=s.X.RIGHT,e.x-=e.pushVelocityX,e.hitbox.x-=e.pushVelocityX,e.pushVelocityX=0):(e.dir=s.X.LEFT,e.x-=e.pushVelocityX,e.hitbox.x-=e.pushVelocityX,e.pushVelocityX=0))};checkPlatformCollision=e=>{for(const t of e.floors)if(this.intersectRect(e.hitbox.x,e.hitbox.y+e.hitbox.h-e.mFallSpeed,e.hitbox.w,e.mFallSpeed,t.x,t.y,t.w,e.mFallSpeed)){const n=e.hitbox.y-e.y;return e.y=t.y-e.h+e.groundOffset,e.hitbox.y=t.y-e.h+n+e.groundOffset,void(e.action===o.U.DEAD&&(e.x-=e.dir===s.X.RIGHT?e.mSpeed:-e.mSpeed,e.hitbox.x-=e.dir===s.X.RIGHT?e.mSpeed:-e.mSpeed))}};handleEnemyAnimation=e=>{e.action!==o.U.DEAD?(e.animationCounterDelay++,3===e.animationCounterDelay&&(e.animationCounterDelay=0,e.animationCounter=e.animationCounter%(e.animationFrames??4)+1)):e.animationCounter=1};intersectRect=(e,t,n,i,l,c,p,f)=>this.intersectRange(e,e+n,l,l+p)&&this.intersectRange(t,t+i,c,c+f);intersectRange=(e,t,n,i)=>Math.max(e,n)<=Math.min(t,i);resetEnemyPos=e=>{e.x=e.xo,e.y=e.yo,e.hitbox.x=e.hitboxxo,e.hitbox.y=e.hitboxyo,e.horizontalVelocity=e.hvo,e.verticalVelocity=e.vvo,e.action=e.actiono,e.animationCounter=e.anco,e.animationCounterDelay=e.ancdo,e.dir=e.diro,e.mSpeed=e.mso,e.softWalls=e.swo};static \u0275fac=function(t){return new(t||r)};static \u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var C=h(5312),T=h(1626);let _=(()=>{class r{http;levelRankings=[];constructor(e){this.http=e}getLevelRankings=()=>this.http.get(`${C.c.backend}/level-rankings/`);getLevelRanking=e=>this.http.get(`${C.c.backend}/level-rankings/${e}`);addLevelRanking=e=>this.http.post(`${C.c.backend}/level-rankings/`,e);static \u0275fac=function(t){return new(t||r)(a.KVO(T.Qq))};static \u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),G=(()=>{class r{playerService;movingRight=!1;movingLeft=!1;jumping=!1;cancel=!1;constructor(e){this.playerService=e}onStartMovingRight=e=>{e.preventDefault(),this.playerService.setBufferedDir(s.X.RIGHT),this.playerService.bufferMovement(),this.movingRight=!0};onStartMovingLeft=e=>{e.preventDefault(),this.playerService.setBufferedDir(s.X.LEFT),this.playerService.bufferMovement(),this.movingLeft=!0};onStopMovingRight=()=>{this.movingRight=!1,this.movingLeft?this.playerService.setBufferedDir(s.X.LEFT):this.playerService.bufferStop()};onStopMovingLeft=()=>{this.movingLeft=!1,this.movingRight?this.playerService.setBufferedDir(s.X.RIGHT):this.playerService.bufferStop()};onStartJumping=e=>{e.preventDefault(),this.jumping||(this.playerService.bufferJump(),this.jumping=!0)};onStopJumping=()=>{this.jumping=!1};onStartCancel=e=>{e.preventDefault(),this.cancel||this.playerService.getCanCancel()&&(this.playerService.bufferCancel(),this.cancel=!0)};onStopCancel=()=>{this.cancel=!1};onStartPunch=e=>{e.preventDefault(),this.playerService.bufferPunch(!0)};onStopPunch=()=>{this.playerService.bufferPunch(!1)};static \u0275fac=function(t){return new(t||r)(a.rXU(w))};static \u0275cmp=a.VBU({type:r,selectors:[["app-adventure-controls"]],decls:1,vars:0,consts:[[1,"hidden--visually",3,"keydown.arrowright","keyup.arrowright","keydown.arrowleft","keyup.arrowleft","keydown.arrowup","keyup.arrowup","keydown.arrowdown","keyup.arrowdown","keydown.space","keyup.space"]],template:function(t,n){1&t&&(a.j41(0,"div",0),a.bIt("keydown.arrowright",function(l){return n.onStartMovingRight(l)},!1,a.tSv)("keyup.arrowright",function(){return n.onStopMovingRight()},!1,a.tSv)("keydown.arrowleft",function(l){return n.onStartMovingLeft(l)},!1,a.tSv)("keyup.arrowleft",function(){return n.onStopMovingLeft()},!1,a.tSv)("keydown.arrowup",function(l){return n.onStartJumping(l)},!1,a.tSv)("keyup.arrowup",function(){return n.onStopJumping()},!1,a.tSv)("keydown.arrowdown",function(l){return n.onStartCancel(l)},!1,a.tSv)("keyup.arrowdown",function(){return n.onStopCancel()},!1,a.tSv)("keydown.space",function(l){return n.onStartPunch(l)},!1,a.tSv)("keyup.space",function(){return n.onStopPunch()},!1,a.tSv),a.k0s())},encapsulation:2,changeDetection:0})}return r})();const R=["canvas"],z=r=>({"hidden--visually":r,"e-adventure__canvas":!0}),B=(r,y)=>({hidden:r,"e-adventure__loading":y});let W=(()=>{class r{route;router;sprites;cameraService;levelService;playerService;enemyService;leaderboardService;ref;levelNr;SCREEN_WIDTH=800;SCREEN_HEIGHT=500;showCanvas=!1;spriteChart;hpBarWidth=84;canvas;ctx;level;tick;time;timeIncrement;gemUIAnim;gemAnimDelay;constructor(e,t,n,i,l,c,p,f,b){this.route=e,this.router=t,this.sprites=n,this.cameraService=i,this.levelService=l,this.playerService=c,this.enemyService=p,this.leaderboardService=f,this.ref=b}ngOnInit(){this.levelNr=this.route.snapshot.paramMap.get("levelNr"),this.ctx=this.canvas.nativeElement.getContext("2d"),this.playerService.setUp(),this.level=this.levelService["getLevel"+this.levelNr](),this.gemUIAnim=1,this.gemAnimDelay=0,this.sprites.getSprites(this.levelNr).then(e=>{this.spriteChart=e,this.time=new Date,this.timeIncrement=new Date,this.tick=setInterval(()=>this.performTick(),35),this.showCanvas=!0,this.ref.detectChanges()})}ngOnDestroy(){var e=this;return(0,S.A)(function*(){clearInterval(e.tick)})()}performTick=()=>{if(this.enemyService.updateEnemies(this.level),this.playerService.updatePlayer(this.level),this.cameraService.updateAnimatedDrawables(this.level),this.playerService.checkFinish(this.level)){this.playerService.completeReplay(),this.playerService.getReplay();for(let t of this.level.player.bigGems)localStorage.setItem("level"+this.level.code+t.name,"true");this.router.navigate(["adventure/leaderboards",this.levelNr])}(this.playerService.checkDeath(this.level)||this.hpBarWidth<=0)&&this.router.navigate(["adventure/rip",this.levelNr]),this.refreshCanvas(),this.timeIncrement=new Date(this.timeIncrement.getTime()+35)};refreshCanvas=()=>{const e=this.cameraService.getDrawCommands(this.level,this.spriteChart);for(const t of e)t.alpha&&(this.ctx.globalAlpha=t.alpha),this.ctx.drawImage(t.img,t.x,t.y,t.w,t.h),this.ctx.globalAlpha=1;this.drawHp(),this.drawGems(),this.drawText()};drawGems=()=>{this.ctx.drawImage(this.spriteChart["Col"+this.gemUIAnim],-25,-25,100,100);for(const e of this.level.player.bigGems)this.ctx.drawImage(this.spriteChart[e.name+this.gemUIAnim],-20,30+55*this.level.player.bigGems.indexOf(e),100,100);this.gemAnimDelay++,this.gemAnimDelay>=2&&(this.gemAnimDelay=0,this.gemUIAnim++,this.gemUIAnim>8&&(this.gemUIAnim=1))};getTimeString=e=>{const t=e%1e3,n=Math.round((e-t)/1e3)%60,i=Math.round(((e-t)/1e3-n)/60);return(i<100?("0"+i).slice(-2):i)+":"+("0"+n).slice(-2)+":"+("00"+t).slice(-3)};drawText=()=>{const e=this.getTimeString(this.timeIncrement.getTime()-this.time.getTime()),t=this.level.player.gems.length.toString();this.ctx.font="40px Arial Black",this.ctx.lineWidth=2;const n=this.ctx.createLinearGradient(0,0,0,40);n.addColorStop(0,"white"),n.addColorStop(1,"gray"),this.ctx.fillStyle=n,this.ctx.fillText(t,40,40);const i=this.ctx.createLinearGradient(0,470,0,490);i.addColorStop(0,"white"),i.addColorStop(1,"gray"),this.ctx.fillStyle=i,this.ctx.font="30px Arial Black",this.ctx.fillText(e,10,490),this.ctx.strokeStyle="#000000",this.ctx.font="40px Arial Black",this.ctx.strokeText(t,40,40),this.ctx.font="30px Arial Black",this.ctx.strokeText(e,10,490)};drawHp=()=>{if(this.ctx.drawImage(this.spriteChart.HPBar,680,-20,100,100),this.ctx.fillStyle="#FF0000",this.ctx.fillRect(688,30,84,21),this.hpBarWidth>21*this.level.player.health){this.hpBarWidth-=2;let e=2*Math.abs(Math.round((this.hpBarWidth-21*this.level.player.health)/21*255));e=e>255?255:e;let t=2*(255-Math.abs(Math.round((this.hpBarWidth-21*this.level.player.health)/21*255)));t=t>255?255:t,this.ctx.fillStyle="rgb("+t+", "+e+", 0)",this.ctx.fillRect(21*this.level.player.health+688,30,21,21)}this.ctx.fillStyle="#00FF00",this.ctx.fillRect(688,30,this.hpBarWidth,21)};static \u0275fac=function(t){return new(t||r)(a.rXU(m.nX),a.rXU(m.Ix),a.rXU(N.s),a.rXU(A),a.rXU(F),a.rXU(w),a.rXU(E),a.rXU(_),a.rXU(a.gRc))};static \u0275cmp=a.VBU({type:r,selectors:[["app-adventure-level-page"]],viewQuery:function(t,n){if(1&t&&a.GBs(R,7),2&t){let i;a.mGM(i=a.lsd())&&(n.canvas=i.first)}},hostBindings:function(t,n){1&t&&a.bIt("beforeunload",function(){return n.ngOnDestroy()},!1,a.tSv)},decls:5,vars:11,consts:[["canvas",""],[3,"ngClass","width","height"],[3,"ngClass"]],template:function(t,n){1&t&&(a.j41(0,"div"),a.nrm(1,"canvas",1,0)(3,"p",2),a.k0s(),a.nrm(4,"app-adventure-controls")),2&t&&(a.HbH("e-adventure__select__container e-adventure__select__container-"+n.levelNr),a.R7$(),a.Y8G("ngClass",a.eq3(6,z,!n.showCanvas))("width",n.SCREEN_WIDTH)("height",n.SCREEN_HEIGHT),a.R7$(2),a.Y8G("ngClass",a.l_i(8,B,n.showCanvas,!n.showCanvas)))},dependencies:[x.YU,G],encapsulation:2,changeDetection:0})}return r})(),O=(()=>{class r{router;route;levelNr="1";constructor(e,t){this.router=e,this.route=t}ngOnInit(){this.levelNr=this.route.snapshot.paramMap.get("levelNr")}startLevel=()=>{this.router.navigate(["adventure/level",this.levelNr])};back=()=>{this.router.navigate(["adventure/select"])};static \u0275fac=function(t){return new(t||r)(a.rXU(m.Ix),a.rXU(m.nX))};static \u0275cmp=a.VBU({type:r,selectors:[["app-game-over-page"]],decls:8,vars:0,consts:[[1,"e-container"],[1,"e-adventure__rip__title","e-adventure__select__title"],[1,"e-flex"],[1,"padding--2","margin--2","e-adventure__menu__button","margin-auto",3,"click"],[1,"padding--2","margin--2","e-adventure__menu__button","e-adventure__menu__button--back","margin-auto",3,"click"]],template:function(t,n){1&t&&(a.j41(0,"div",0)(1,"h1",1),a.EFF(2,"You died"),a.k0s()(),a.j41(3,"div",2)(4,"button",3),a.bIt("click",function(){return n.startLevel()}),a.EFF(5," Retry "),a.k0s(),a.j41(6,"button",4),a.bIt("click",function(){return n.back()}),a.EFF(7," Back "),a.k0s()())},encapsulation:2,changeDetection:0})}return r})();var k=h(7605),g=h(2794);const j=r=>({"e-adventure__leaderboard--blur":r}),M=()=>["/adventure/select"],H=()=>["Normal","Collector","Pacifist"];function P(r,y){if(1&r){const e=a.RV6();a.j41(0,"div",13)(1,"input",14),a.bIt("change",function(){const n=a.eBV(e).$implicit,i=a.XpG();return a.Njj(i.onChangeMode(n))}),a.k0s(),a.j41(2,"label",15),a.EFF(3),a.k0s()()}if(2&r){const e=y.$implicit,t=a.XpG();a.R7$(),a.Y8G("id","ranking-opt-"+e)("value",e)("checked",e===t.selectedMode),a.R7$(),a.Y8G("for","ranking-opt-"+e),a.R7$(),a.JRh(e)}}function Y(r,y){if(1&r){const e=a.RV6();a.j41(0,"div",16)(1,"div",17),a.EFF(2),a.k0s(),a.j41(3,"div",13),a.EFF(4),a.k0s(),a.j41(5,"div",13)(6,"button",18),a.bIt("click",function(){const n=a.eBV(e).$implicit,i=a.XpG();return a.Njj(i.watchReplay(n.id))}),a.EFF(7," Watch replay "),a.k0s()()()}if(2&r){const e=y.$implicit;a.R7$(2),a.JRh(e.name),a.R7$(2),a.JRh(e.time)}}function J(r,y){1&r&&(a.j41(0,"p",26),a.EFF(1,"Choose a name that will be displayed on the leaderboards."),a.k0s())}function $(r,y){1&r&&(a.j41(0,"p",27),a.EFF(1,"Please fill in a valid name."),a.k0s())}function Q(r,y){if(1&r){const e=a.RV6();a.j41(0,"div",19)(1,"div",20)(2,"h2",5),a.EFF(3),a.k0s(),a.j41(4,"form",21),a.bIt("ngSubmit",function(){a.eBV(e);const n=a.XpG();return a.Njj(n.onSubmit())}),a.DNE(5,J,2,0,"p",22)(6,$,2,0,"p",23),a.j41(7,"input",24),a.bIt("keypress",function(n){a.eBV(e);const i=a.XpG();return a.Njj(i.omitSpecialChar(n))}),a.k0s(),a.j41(8,"div")(9,"button",25),a.EFF(10," Submit "),a.k0s(),a.j41(11,"button",18),a.bIt("click",function(){a.eBV(e);const n=a.XpG();return a.Njj(n.closeModal())}),a.EFF(12," Cancel "),a.k0s()()()()()}if(2&r){const e=a.XpG();a.R7$(3),a.SpI("Level ",e.levelNr," complete!"),a.R7$(),a.Y8G("formGroup",e.form),a.R7$(),a.Y8G("ngIf",!e.showError),a.R7$(),a.Y8G("ngIf",e.showError),a.R7$(),a.Y8G("maxlength",e.MAX_LENGTH)}}const K=["canvas"],q=r=>["/adventure/leaderboards",r],ee=r=>({"hidden--visually":r,"e-adventure__canvas--replay":!0}),te=(r,y)=>({hidden:r,"e-adventure__loading":y}),ae=[{path:"",component:V},{path:"select",component:I},{path:"level/:levelNr",component:W},{path:"rip/:levelNr",component:O},{path:"leaderboards/:levelNr",component:(()=>{class r{route;playerService;leaderboardService;router;onDestroyService;ref;levelNr;selectedMode="Normal";levelRankings;showModal=!1;storedReplay;form;showError=!1;MAX_LENGTH=30;constructor(e,t,n,i,l,c){this.route=e,this.playerService=t,this.leaderboardService=n,this.router=i,this.onDestroyService=l,this.ref=c}ngOnInit(){this.levelNr=this.route.snapshot.paramMap.get("levelNr"),this.form=this.createForm(),this.storedReplay=this.playerService.getReplay(),this.storedReplay.isComplete&&(this.showModal=!0,this.storedReplay.collector&&(this.selectedMode="Collector"),this.storedReplay.pacifist&&(this.selectedMode="Pacifist")),this.levelRankings=this.leaderboardService.getLevelRankings()}onChangeMode=e=>{this.selectedMode=e};filterLevelRankings=e=>e?(e=e.filter(t=>t.levelNr===this.levelNr),"Normal"===this.selectedMode?e.filter(t=>!t.replay.collector&&!t.replay.pacifist).sort((t,n)=>t.time<n.time?-1:t.time>n.time?1:0):"Collector"===this.selectedMode?e.filter(t=>t.replay.collector&&!t.replay.pacifist).sort((t,n)=>t.time<n.time?-1:t.time>n.time?1:0):"Pacifist"===this.selectedMode?e.filter(t=>t.replay.pacifist).sort((t,n)=>t.time<n.time?-1:t.time>n.time?1:0):void 0):[];watchReplay=e=>{this.router.navigate(["adventure/replay",e])};onSubmit=()=>{this.formIsInValid()?this.showError=!0:this.leaderboardService.addLevelRanking({levelNr:this.levelNr,name:this.form.controls.name.value,replay:this.storedReplay}).pipe((0,k.Q)(this.onDestroyService)).subscribe(()=>{this.showModal=!1,this.playerService.setUp(),this.levelRankings=this.leaderboardService.getLevelRankings(),this.ref.markForCheck()})};getTimeString=e=>{const t=e%1e3,n=Math.round((e-t)/1e3)%60,i=Math.round(((e-t)/1e3-n)/60);return(i<100?("0"+i).slice(-2):i)+":"+("0"+n).slice(-2)+":"+("00"+t).slice(-3)};closeModal=()=>{this.showModal=!1,this.playerService.setUp()};formIsInValid=()=>(this.form.controls.name.setValue(this.form.controls.name.value.trim()),this.form.updateValueAndValidity(),"INVALID"===this.form.status);omitSpecialChar=e=>{let t;return t=document.all?e.keyCode:e.which,t>64&&t<91||t>96&&t<123||8===t||32===t||t>=48&&t<=57};createForm=()=>new d.J3({name:new d.hs("",[d.k0.maxLength(this.MAX_LENGTH),d.k0.required])});static \u0275fac=function(t){return new(t||r)(a.rXU(m.nX),a.rXU(w),a.rXU(_),a.rXU(m.Ix),a.rXU(g.B,10),a.rXU(a.gRc))};static \u0275cmp=a.VBU({type:r,selectors:[["app-level-complete"]],features:[a.Jv_([g.B])],decls:27,vars:14,consts:[[3,"ngClass"],[1,"e-container"],[1,"e-adventure__menu__title","e-adventure__select__title"],[3,"routerLink"],[1,"e-adventure__select__box","e-flex__col","padding--1"],[1,"margin-vertical--1","text--commodore"],[1,"e-adventure__select__container--horizontal"],["class","e-flex__col text--center",4,"ngFor","ngForOf"],[1,"e-flex","e-flex--column","e-adventure__leaderboard__table"],[1,"e-flex__col","e-flex","e-flex--row","e-flex__align--center","e-adventure__leaderboard__row"],[1,"e-flex__col","text--center","padding-vertical--1"],["class","e-flex__col e-flex e-flex--row e-flex__align--center padding-vertical--1 e-adventure__leaderboard__row",4,"ngFor","ngForOf"],["class","e-adventure__leaderboard__modal__container",4,"ngIf"],[1,"e-flex__col","text--center"],["type","radio","name","mode",1,"hidden--visually",3,"change","id","value","checked"],[1,"e-adventure__select__option","e-adventure__select__option--horizontal",3,"for"],[1,"e-flex__col","e-flex","e-flex--row","e-flex__align--center","padding-vertical--1","e-adventure__leaderboard__row"],[1,"e-flex__col","text--center","e-adventure__leaderboard__name"],["type","button",1,"e-button","e-button--small",3,"click"],[1,"e-adventure__leaderboard__modal__container"],[1,"e-adventure__leaderboard__modal","padding--1"],[1,"text--center","padding--2","e-flex","e-flex--column","e-flex__align--center","e-flex__justify--space-between",3,"ngSubmit","formGroup"],["class","text--center",4,"ngIf"],["class","text--center text--danger",4,"ngIf"],["type","text","formControlName","name",1,"e-form__input","margin-vertical--1",3,"keypress","maxlength"],["type","submit",1,"e-button","e-button--small","e-button--primary"],[1,"text--center"],[1,"text--center","text--danger"]],template:function(t,n){1&t&&(a.j41(0,"div",0)(1,"div",1)(2,"h1",2),a.EFF(3,"Leaderboards"),a.k0s(),a.j41(4,"a",3),a.EFF(5,"< back to level select"),a.k0s(),a.nrm(6,"br")(7,"br"),a.j41(8,"div",4)(9,"h2",5),a.EFF(10),a.k0s(),a.j41(11,"div",6),a.DNE(12,P,4,5,"div",7),a.k0s(),a.j41(13,"div",8)(14,"div",9)(15,"div",10)(16,"strong"),a.EFF(17,"Name"),a.k0s()(),a.j41(18,"div",10)(19,"strong"),a.EFF(20,"Time"),a.k0s()(),a.j41(21,"div",10)(22,"strong"),a.EFF(23,"Replay"),a.k0s()()(),a.DNE(24,Y,8,2,"div",11),a.nI1(25,"async"),a.k0s()()()(),a.DNE(26,Q,13,5,"div",12)),2&t&&(a.HbH("e-adventure__select__container e-adventure__select__container-"+n.levelNr),a.Y8G("ngClass",a.eq3(10,j,n.showModal)),a.R7$(4),a.Y8G("routerLink",a.lJ4(12,M)),a.R7$(6),a.SpI("Level ",n.levelNr,""),a.R7$(2),a.Y8G("ngForOf",a.lJ4(13,H)),a.R7$(12),a.Y8G("ngForOf",n.filterLevelRankings(a.bMT(25,8,n.levelRankings))),a.R7$(2),a.Y8G("ngIf",n.showModal))},dependencies:[x.YU,x.Sq,x.bT,d.qT,d.me,d.BC,d.cb,d.tU,d.j4,d.JD,m.Wk,x.Jj],encapsulation:2,changeDetection:0})}return r})()},{path:"replay/:id",component:(()=>{class r{route;router;sprites;cameraService;levelService;playerService;enemyService;leaderboardService;ref;onDestroyService;levelNr;SCREEN_WIDTH=800;SCREEN_HEIGHT=500;showCanvas=!1;spriteChart;hpBarWidth=84;name="";canvas;ctx;level;replay;replayTickCount=0;tick;time;timeIncrement;gemUIAnim;gemAnimDelay;constructor(e,t,n,i,l,c,p,f,b,oe){this.route=e,this.router=t,this.sprites=n,this.cameraService=i,this.levelService=l,this.playerService=c,this.enemyService=p,this.leaderboardService=f,this.ref=b,this.onDestroyService=oe}ngOnInit(){this.leaderboardService.getLevelRanking(this.route.snapshot.paramMap.get("id")).pipe((0,k.Q)(this.onDestroyService)).subscribe(e=>{this.name=e.name,this.replay=e.replay,this.levelNr=e.levelNr,this.ctx=this.canvas.nativeElement.getContext("2d"),this.playerService.setUp(),this.level=this.levelService["getLevel"+this.levelNr](),this.gemUIAnim=1,this.gemAnimDelay=0,this.sprites.getSprites(this.levelNr).then(t=>{this.spriteChart=t,this.time=new Date,this.timeIncrement=new Date,this.tick=setInterval(()=>this.performTick(),35),this.showCanvas=!0,this.ref.detectChanges()})})}ngOnDestroy(){var e=this;return(0,S.A)(function*(){clearInterval(e.tick)})()}performTick=()=>{this.enemyService.updateEnemies(this.level),this.playerService.updateActionsFromReplay(this.replay.ticks[this.replayTickCount]),this.cameraService.updateAnimatedDrawables(this.level),this.replayTickCount++,this.playerService.updatePlayer(this.level),this.playerService.checkFinish(this.level)&&this.router.navigate(["adventure/leaderboards",this.levelNr]),(this.playerService.checkDeath(this.level)||this.hpBarWidth<=0)&&this.router.navigate(["adventure/rip",this.levelNr]),this.refreshCanvas(),this.timeIncrement=new Date(this.timeIncrement.getTime()+35)};refreshCanvas=()=>{const e=this.cameraService.getDrawCommands(this.level,this.spriteChart);for(const t of e)t.alpha&&(this.ctx.globalAlpha=t.alpha),this.ctx.drawImage(t.img,t.x,t.y,t.w,t.h),this.ctx.globalAlpha=1;this.drawHp(),this.drawGems(),this.drawText()};drawGems=()=>{this.ctx.drawImage(this.spriteChart["Col"+this.gemUIAnim],-25,-25,100,100);for(const e of this.level.player.bigGems)this.ctx.drawImage(this.spriteChart[e.name+this.gemUIAnim],-20,30+55*this.level.player.bigGems.indexOf(e),100,100);this.gemAnimDelay++,this.gemAnimDelay>=2&&(this.gemAnimDelay=0,this.gemUIAnim++,this.gemUIAnim>8&&(this.gemUIAnim=1))};getTimeString=e=>{const t=e%1e3,n=Math.round((e-t)/1e3)%60,i=Math.round(((e-t)/1e3-n)/60);return(i<100?("0"+i).slice(-2):i)+":"+("0"+n).slice(-2)+":"+("00"+t).slice(-3)};drawText=()=>{const e=this.getTimeString(this.timeIncrement.getTime()-this.time.getTime()),t=this.level.player.gems.length.toString();this.ctx.font="40px Arial Black",this.ctx.lineWidth=2;const n=this.ctx.createLinearGradient(0,0,0,40);n.addColorStop(0,"white"),n.addColorStop(1,"gray"),this.ctx.fillStyle=n,this.ctx.fillText(t,40,40);const i=this.ctx.createLinearGradient(0,470,0,490);i.addColorStop(0,"white"),i.addColorStop(1,"gray"),this.ctx.fillStyle=i,this.ctx.font="30px Arial Black",this.ctx.fillText(e,10,490),this.ctx.strokeStyle="#000000",this.ctx.font="40px Arial Black",this.ctx.strokeText(t,40,40),this.ctx.font="30px Arial Black",this.ctx.strokeText(e,10,490)};drawHp=()=>{if(this.ctx.drawImage(this.spriteChart.HPBar,680,-20,100,100),this.ctx.fillStyle="#FF0000",this.ctx.fillRect(688,30,84,21),this.hpBarWidth>21*this.level.player.health){this.hpBarWidth-=2;let e=2*Math.abs(Math.round((this.hpBarWidth-21*this.level.player.health)/21*255));e=e>255?255:e;let t=2*(255-Math.abs(Math.round((this.hpBarWidth-21*this.level.player.health)/21*255)));t=t>255?255:t,this.ctx.fillStyle="rgb("+t+", "+e+", 0)",this.ctx.fillRect(21*this.level.player.health+688,30,21,21)}this.ctx.fillStyle="#00FF00",this.ctx.fillRect(688,30,this.hpBarWidth,21)};static \u0275fac=function(t){return new(t||r)(a.rXU(m.nX),a.rXU(m.Ix),a.rXU(N.s),a.rXU(A),a.rXU(F),a.rXU(w),a.rXU(E),a.rXU(_),a.rXU(a.gRc),a.rXU(g.B,10))};static \u0275cmp=a.VBU({type:r,selectors:[["app-adventure-replay-page"]],viewQuery:function(t,n){if(1&t&&a.GBs(K,7),2&t){let i;a.mGM(i=a.lsd())&&(n.canvas=i.first)}},hostBindings:function(t,n){1&t&&a.bIt("beforeunload",function(){return n.ngOnDestroy()},!1,a.tSv)},features:[a.Jv_([g.B])],decls:12,vars:15,consts:[["canvas",""],[1,"e-adventure__canvas--replay__container"],[1,"e-adventure__menu__title","e-adventure__select__title","e-adventure__canvas--replay__title"],[3,"routerLink"],[3,"ngClass","width","height"],[3,"ngClass"]],template:function(t,n){1&t&&(a.j41(0,"div")(1,"div",1)(2,"h1",2),a.EFF(3),a.k0s(),a.j41(4,"p")(5,"a",3),a.EFF(6,"< back"),a.k0s(),a.nrm(7,"br")(8,"br"),a.k0s(),a.nrm(9,"canvas",4,0)(11,"p",5),a.k0s()()),2&t&&(a.HbH("e-adventure__select__container e-adventure__select__container-"+n.levelNr),a.R7$(3),a.SpI(" ",n.name,"'s replay "),a.R7$(2),a.Y8G("routerLink",a.eq3(8,q,n.levelNr)),a.R7$(4),a.Y8G("ngClass",a.eq3(10,ee,!n.showCanvas))("width",n.SCREEN_WIDTH)("height",n.SCREEN_HEIGHT),a.R7$(2),a.Y8G("ngClass",a.l_i(12,te,n.showCanvas,!n.showCanvas)))},dependencies:[x.YU,m.Wk],encapsulation:2,changeDetection:0})}return r})()}];let ne=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=a.$C({type:r});static \u0275inj=a.G2t({imports:[m.iI.forChild(ae),m.iI]})}return r})(),ie=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=a.$C({type:r});static \u0275inj=a.G2t({imports:[x.MD,d.YN,d.X1,ne]})}return r})()}}]);